<!DOCTYPE html><html><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="preload" href="/component---src-layouts-index-js-40d0a2dab60c18c63a5f.js" as="script"/><link rel="preload" href="/component---src-templates-blog-post-js-ba495ac5b447f872b256.js" as="script"/><link rel="preload" href="/path---what-the-adt-p-02-5d7e91df31e55a506240.js" as="script"/><link rel="preload" href="/app-b4347788a110d8c82a8d.js" as="script"/><link rel="preload" href="/commons-971d228e145f59af702e.js" as="script"/><style data-styled-components="cyApUJ cVQeNr bhLOed dczuPi crDdfX kghjWQ clFNDC cctNeo beKiKv kYMQsd iLnEsQ lanzan fsnnjD jHFEb">
/* sc-component-id: sc-hmzhuo */
.bhLOed{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;max-width:120rem;width:100%;padding-top:1rem;padding-left:2rem;padding-right:2rem;}
/* sc-component-id: sc-frDJqD */
.cVQeNr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:5rem;width:100%;} .cVQeNr a{display:inline;font-size:2.2rem;text-transform:uppercase;line-height:6rem;-webkit-letter-spacing:0.1rem;-moz-letter-spacing:0.1rem;-ms-letter-spacing:0.1rem;letter-spacing:0.1rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){.cVQeNr a{font-size:1.4rem;}} .cVQeNr ul{list-style:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:0;margin-top:0;} .cVQeNr ul li{float:left;margin:0;position:relative;} .cVQeNr ul li a{margin-left:1rem;margin-right:1rem;}
/* sc-component-id: sc-kvZOFW */
.dczuPi{-webkit-text-decoration:none;text-decoration:none;} .dczuPi:hover{color:#33cc66;} .dczuPi:active{color:#c39;}
/* sc-component-id: sc-hqyNC */
.fsnnjD{height:6rem;width:100%;text-align:center;line-height:6rem;}
/* sc-component-id: sc-jbKcbu */
.jHFEb{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;max-width:120rem;width:100%;padding-left:2rem;padding-right:2rem;}
/* sc-component-id: sc-global-3512639352 */
*,*:after,*:before{box-sizing:inherit;} html{box-sizing:border-box;font-size:62.5%;} body{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:#323232;background-color:#fefefe;font-family:'Fira Mono',monospace;font-size:2em;font-weight:400;-webkit-letter-spacing:0.0625em;-moz-letter-spacing:0.0625em;-ms-letter-spacing:0.0625em;letter-spacing:0.0625em;line-height:2.2em;} @media only screen and (min-device-width:320px) and (max-device-width:480px){body{font-size:1.4em;line-height:1.6em;}} a{font-weight:700;color:#000000;-webkit-text-decoration:none;text-decoration:none;} a:focus,a:hover{-webkit-text-decoration:underline;text-decoration:underline;} p{margin:1.6rem 0 1.6rem 0;} p a{font-weight:400;color:#000000;-webkit-text-decoration:underline;text-decoration:underline;text-underline-position:under;} p a:focus,p a:hover{color:#33cc66;} h1,h2,h3,h4,h5,h6{color:#000000;text-transform:uppercase;-webkit-letter-spacing:0.0625em;-moz-letter-spacing:0.0625em;-ms-letter-spacing:0.0625em;letter-spacing:0.0625em;margin:3.2rem 0 1.6rem 0;} h1{font-size:3.2rem;line-height:3.2rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){h1{font-size:2.8rem;line-height:2.8rem;}} h2{font-size:2.8rem;line-height:2.8rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){h2{font-size:2.4rem;line-height:2.4rem;}} h3{font-size:2.4rem;line-height:2.4rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){h3{font-size:2rem;line-height:2rem;}} h4{font-size:2.2rem;line-height:2.2rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){h4{font-size:1.8rem;line-height:1.8rem;}} h5{font-size:2rem;line-height:2rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){h5{font-size:1.6rem;line-height:1.6rem;}} h6{font-size:1.4rem;line-height:1.4rem;} pre{margin:1.6rem 0 1rem 0;padding:1.6rem;overflow-x:auto;} code{background-color:#000000;color:#fefefe;padding:0.4rem 0.8rem 0.4rem 0.8rem;} blockquote{border-left:2px solid #dcdcdc;padding-left:1.6rem;font-style:italic;} th,td{padding:1.6rem;} table{border-collapse:collapse;} table td,table th{border:2px solid #000000;} table tr:first-child th{border-top:0;} table tr:last-child td{border-bottom:0;} table tr td:first-child,table tr th:first-child{border-left:0;} table tr td:last-child,table tr th:last-child{border-right:0;} img{max-width:100%;} .wrapper{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;width:100vw;} .container{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;max-width:120rem;width:100%;padding-left:2rem;padding-right:2rem;} .navigation{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:6rem;width:100%;} .navigation a{display:inline;font-size:1.6rem;text-transform:uppercase;line-height:6rem;-webkit-letter-spacing:0.1rem;-moz-letter-spacing:0.1rem;-ms-letter-spacing:0.1rem;letter-spacing:0.1rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){.navigation a{font-size:1.4rem;}} .navigation ul{list-style:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:0;margin-top:0;} .navigation ul li{float:left;margin:0;position:relative;} .navigation ul li a{margin-left:1rem;margin-right:1rem;} .content{-webkit-flex:1;-ms-flex:1;flex:1;margin-top:1.6rem;margin-bottom:3.2rem;} .content article header{margin-top:3.2rem;margin-bottom:3.2rem;} .content article header h1,.content article header h2{margin:0;} .content article header h2{margin-top:1rem;font-size:1.8rem;color:#323232;} @media only screen and (min-device-width:320px) and (max-device-width:480px){.content article header h2{font-size:1.6rem;}} .list ul{margin:3.2rem 0 3.2rem 0;list-style:none;padding:0;} .list ul li{font-size:1.6rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){.list ul li{font-size:1.4rem;margin:1.6rem 0 1.6rem 0;}} .list ul li span{display:inline-block;text-align:right;width:20rem;margin-right:3rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){.list ul li span{display:block;text-align:left;}} .list ul li a{text-transform:uppercase;} .list p{width:80%;-webkit-align-item:flex-end;-webkit-box-align-item:flex-end;-ms-flex-align-item:flex-end;align-item:flex-end;font-size:0.7em;} .pagination{margin-top:6rem;text-align:center;} .pagination li{display:inline;text-align:center;} .pagination li span{margin:0;text-align:center;width:3.2rem;} .pagination li a span{margin:0;text-align:center;width:3.2rem;} .centered{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:100%;width:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;} .centered .about{text-align:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;} .centered .about h1{margin-top:2rem;margin-bottom:0.5rem;} .centered .about h2{margin-top:1rem;margin-bottom:0.5rem;font-size:2.4rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){.centered .about h2{font-size:2rem;}} .centered .about ul{list-style:none;margin:3rem 0 1rem 0;padding:0;} .centered .about ul li{display:inline;position:relative;} .centered .about ul li a{text-transform:uppercase;margin-left:1rem;margin-right:1rem;font-size:1.6rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){.centered .about ul li a{font-size:1.4rem;}} .centered .error{text-align:center;} .centered .error h1{margin-top:2rem;margin-bottom:0.5rem;font-size:4.6rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){.centered .error h1{font-size:3.2rem;}} .centered .error h2{margin-top:2rem;margin-bottom:3.2rem;font-size:3.2rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){.centered .error h2{font-size:2.8rem;}} .footer{height:6rem;width:100%;text-align:center;line-height:6rem;} .float-right{float:right;} .float-left{float:left;}
/* sc-component-id: sc-dNLxif */
.cyApUJ{min-height:100vh;width:85vw;display:grid;grid-template-rows:50px 1fr 50px;}
/* sc-component-id: sc-jqCOkK */
.crDdfX article header{margin-top:3.2rem;margin-bottom:3.2rem;} .crDdfX article header h1,.crDdfX article header h2{margin:0;} .crDdfX article header h2{margin-top:1rem;font-size:1.8rem;color:#323232;} @media only screen and (min-device-width:320px) and (max-device-width:480px){.crDdfX article header h2{font-size:1.6rem;}}
/* sc-component-id: sc-uJMKN */
.kYMQsd{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:space-between;-webkit-box-align:space-between;-ms-flex-align:space-between;align-items:space-between;}
/* sc-component-id: sc-bbmXgH */
.iLnEsQ{margin-right:2.9rem;margin-bottom:0;width:8.7rem;height:8.7rem;border-radius:50%;}
/* sc-component-id: sc-gGBfsJ */
.lanzan{color:#33cc66;}
/* sc-component-id: sc-jnlKLf */
.kghjWQ{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;max-width:120rem;width:100%;padding-left:2rem;padding-right:2rem;}
/* sc-component-id: sc-fYxtnH */
.clFNDC header{margin-top:3.2rem;margin-bottom:3.2rem;} .clFNDC header h1,.clFNDC header h2{margin:0;} .clFNDC header h2{margin-top:1rem;font-size:1.8rem;color:#323232;} @media only screen and (min-device-width:320px) and (max-device-width:480px){.clFNDC header h2{font-size:1.6rem;}}
/* sc-component-id: sc-tilXH */
.beKiKv{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flexwrap:wrap;-ms-flexwrap:wrap;flexwrap:wrap;justifycontent:space-between;liststyle:none;padding:0;}
/* sc-component-id: sc-hEsumM */
.cctNeo{font-family:Helvetica,sans-serif;} .cctNeo code{font-size:1.2rem;}</style><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><title data-react-helmet="true">What the ADT Purescript 02 - Setting Limits | undefined</title><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.45 'georgia',serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'georgia',serif;font-weight:normal;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}ul{margin-left:1.45rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.45rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;font-size:0.85rem;line-height:1.45rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}blockquote{margin-left:1.45rem;margin-right:1.45rem;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.45rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}b{font-weight:bold;}strong{font-weight:bold;}dt{font-weight:bold;}th{font-weight:bold;}li{margin-bottom:calc(1.45rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.45rem;margin-bottom:calc(1.45rem / 2);margin-top:calc(1.45rem / 2);}li > ul{margin-left:1.45rem;margin-bottom:calc(1.45rem / 2);margin-top:calc(1.45rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.45rem / 2);}code{font-size:0.85rem;line-height:1.45rem;}kbd{font-size:0.85rem;line-height:1.45rem;}samp{font-size:0.85rem;line-height:1.45rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:0.96667rem;padding-right:0.96667rem;padding-top:0.725rem;padding-bottom:calc(0.725rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}</style><style id="gatsby-inlined-css">code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#f8f8f2}.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style></head><body><div id="___gatsby"><main class="sc-dNLxif cyApUJ" data-reactroot="" data-reactid="1" data-react-checksum="1762731430"><nav class="sc-frDJqD cVQeNr" data-reactid="2"><section class="sc-hmzhuo bhLOed" data-reactid="3"><a class="sc-kvZOFW dczuPi" href="/" data-reactid="4">(shatteredaesthetic)</a><ul data-reactid="5"><li data-reactid="6"><a class="sc-kvZOFW dczuPi" href="/blog" data-reactid="7">Blog</a></li><li data-reactid="8"><a class="sc-kvZOFW dczuPi" href="/shows" data-reactid="9">Shows</a></li><li data-reactid="10"><a class="sc-kvZOFW dczuPi" href="/about" data-reactid="11">About</a></li></ul></section></nav><div class="sc-jqCOkK crDdfX" data-reactid="12"><section class="sc-jnlKLf kghjWQ" data-reactid="13"><!-- react-empty: 14 --><article class="sc-fYxtnH clFNDC" data-reactid="15"><header data-reactid="16"><h1 data-reactid="17">What the ADT Purescript 02 - Setting Limits</h1><h2 data-reactid="18">May 28, 2019</h2></header><div class="sc-hEsumM cctNeo" data-reactid="19"><h2>Purescript, Part 2: We Need Limitations</h2>
<p>Welcome back! It certainly has been awhile, but it’s nice to know we’ve got the kind of relationship where we can just pick up where we left off. Well, we have that with the code, anyway.</p>
<p>When we left off, we had ported our game from javascript into purescript. There’s still some problems, though: we can just keep guessing until we get it right. That won’t do for a game: that gets boring really fast. We really should limit the number of our guesses, to make things interesting. Let’s do that, then.</p>
<p>Code is up on <a href="https://gitlab.com/shatteredaesthetic/cipher-guess-ps/tree/what-adt-p02">this repo</a>.</p>
<h4>Adjusting Our Types</h4>
<p>The first thing we do is add another <code class="language-text">Int</code> to be our number of guesses. Great, but…where do we put it? It makes sense to put it in the <code class="language-text">GameState</code>, since it is only used within the logic, and will change with use, so let’s add it there:</p>
<div class="gatsby-highlight">
      <pre class="language-haskell"><code class="language-haskell"><span class="token keyword">data</span> <span class="token constant">GameState</span> <span class="token operator">=</span> <span class="token constant">GameState</span> <span class="token constant">Int</span> <span class="token constant">Int</span></code></pre>
      </div>
<p>Which <code class="language-text">Int</code> is which, now? It’s hard to say…we should create some aliases for these Ints, so we can make our intentions clearer.</p>
<div class="gatsby-highlight">
      <pre class="language-haskell"><code class="language-haskell"><span class="token keyword">type</span> <span class="token constant">Target</span> <span class="token operator">=</span> <span class="token constant">Int</span>

<span class="token keyword">type</span> <span class="token constant">Guesses</span> <span class="token operator">=</span> <span class="token constant">Int</span>

<span class="token keyword">data</span> <span class="token constant">GameState</span> <span class="token operator">=</span> <span class="token constant">GameState</span> <span class="token constant">Guesses</span> <span class="token constant">Target</span></code></pre>
      </div>
<p>Much nicer. We made our aliases, and fixed our <code class="language-text">GameState</code> type to use them. The type now self-documents, which is very nice. Let’s continue.</p>
<h4>Fixing Our Logic</h4>
<p>Let’s take a look at our existing <code class="language-text">game</code> function:</p>
<div class="gatsby-highlight">
      <pre class="language-haskell"><code class="language-haskell"><span class="token hvariable">game</span> <span class="token operator">::</span> <span class="token constant">Int</span> <span class="token operator">-></span> <span class="token constant">Game</span> <span class="token punctuation">(</span><span class="token constant">Maybe</span> <span class="token constant">Int</span><span class="token punctuation">)</span>
<span class="token hvariable">game</span> <span class="token hvariable">guess</span> <span class="token operator">=</span> <span class="token keyword">do</span>
  <span class="token constant">GameEnvironment</span> <span class="token hvariable">env</span> <span class="token operator">&lt;-</span> <span class="token hvariable">ask</span>
  <span class="token constant">GameState</span> <span class="token hvariable">target</span> <span class="token operator">&lt;-</span> <span class="token hvariable">get</span>
  <span class="token hvariable">logic</span> <span class="token hvariable">guess</span> <span class="token hvariable">env</span> <span class="token hvariable">target</span></code></pre>
      </div>
<p>We’ve changed the shape of our <code class="language-text">GameState</code>, so we need to change this function. We need the <code class="language-text">Guesses</code> bit in the <code class="language-text">logic</code> function, so we don’t really need to unwrap <code class="language-text">GameState</code>. We’ll change this to just get the state, then we’ll pass that into our call to <code class="language-text">logic</code>:</p>
<div class="gatsby-highlight">
      <pre class="language-haskell"><code class="language-haskell"><span class="token hvariable">game</span> <span class="token operator">::</span> <span class="token constant">Int</span> <span class="token operator">-></span> <span class="token constant">Game</span> <span class="token punctuation">(</span><span class="token constant">Maybe</span> <span class="token constant">Int</span><span class="token punctuation">)</span>
<span class="token hvariable">game</span> <span class="token hvariable">guess</span> <span class="token operator">=</span> <span class="token keyword">do</span>
  <span class="token constant">GameEnvironment</span> <span class="token hvariable">cfg</span> <span class="token operator">&lt;-</span> <span class="token hvariable">ask</span>
  <span class="token hvariable">state</span> <span class="token operator">&lt;-</span> <span class="token hvariable">get</span>
  <span class="token hvariable">logic</span> <span class="token hvariable">guess</span> <span class="token hvariable">cfg</span> <span class="token hvariable">state</span></code></pre>
      </div>
<p>Now the type signature of <code class="language-text">logic</code> needs to be updated, to reflect that it’s now given the whole <code class="language-text">GameState</code>:</p>
<div class="gatsby-highlight">
      <pre class="language-haskell"><code class="language-haskell"><span class="token hvariable">logic</span> <span class="token operator">::</span> <span class="token constant">Int</span>
      <span class="token operator">-></span> <span class="token punctuation">{</span> <span class="token hvariable">low</span> <span class="token operator">::</span> <span class="token constant">Int</span><span class="token punctuation">,</span> <span class="token hvariable">high</span> <span class="token operator">::</span> <span class="token constant">Int</span><span class="token punctuation">,</span> <span class="token hvariable">tolerance</span> <span class="token operator">::</span> <span class="token constant">Int</span> <span class="token punctuation">}</span>
      <span class="token operator">-></span> <span class="token constant">GameState</span>
      <span class="token operator">-></span> <span class="token constant">Game</span> <span class="token punctuation">(</span><span class="token constant">Maybe</span> <span class="token constant">Int</span><span class="token punctuation">)</span></code></pre>
      </div>
<p>We’ll unwrap the <code class="language-text">GameState</code> type at the outset, so we can check our number of guesses. We’ll add a new first guard that checks to see if <code class="language-text">guesses</code> is 0. If it is, we’ll end the game with a message, telling the player what the <code class="language-text">target</code> was. Right now we end the game if the player gets the guess right (within a tolerance) by returning the <code class="language-text">target</code> in a <code class="language-text">Just</code>, so let’s do that here as well.</p>
<div class="gatsby-highlight">
      <pre class="language-haskell"><code class="language-haskell"><span class="token hvariable">logic</span> <span class="token hvariable">g</span> <span class="token punctuation">{</span> <span class="token hvariable">low</span><span class="token operator">:</span> <span class="token hvariable">l</span><span class="token punctuation">,</span> <span class="token hvariable">high</span><span class="token operator">:</span> <span class="token hvariable">h</span><span class="token punctuation">,</span> <span class="token hvariable">tolerance</span><span class="token operator">:</span> <span class="token hvariable">tol</span> <span class="token punctuation">}</span> <span class="token punctuation">(</span><span class="token constant">GameState</span> <span class="token hvariable">guesses</span> <span class="token hvariable">t</span><span class="token punctuation">)</span>
  <span class="token operator">|</span> <span class="token hvariable">guesses</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">=</span> <span class="token keyword">do</span>
    <span class="token hvariable">tell</span> <span class="token operator">$</span> <span class="token hvariable">A.singleton</span> <span class="token operator">$</span> <span class="token string">"Game Over! You're out of guesses. The number was "</span> <span class="token operator">&lt;></span> <span class="token builtin">show</span> <span class="token hvariable">t</span>
    <span class="token hvariable">pure</span> <span class="token operator">$</span> <span class="token constant">Just</span> <span class="token hvariable">t</span></code></pre>
      </div>
<p>Great, now we need to decrement our number of guesses each time we’re given a bad one. We only need to change a piece of the <code class="language-text">GameState</code>, so, in each guard that returns a <code class="language-text">Nothing</code>, we’ll add this:</p>
<div class="gatsby-highlight">
      <pre class="language-haskell"><code class="language-haskell"><span class="token hvariable">put</span> <span class="token operator">$</span> <span class="token constant">GameState</span> <span class="token punctuation">(</span><span class="token hvariable">guesses</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token hvariable">t</span></code></pre>
      </div>
<p>This puts a new state into the <code class="language-text">GameState</code>, decrementing the guesses. That’s actually all we have to do here, so let’s see the function:</p>
<div class="gatsby-highlight">
      <pre class="language-haskell"><code class="language-haskell"><span class="token hvariable">logic</span> <span class="token operator">::</span> <span class="token constant">Int</span>
      <span class="token operator">-></span> <span class="token punctuation">{</span> <span class="token hvariable">low</span> <span class="token operator">::</span> <span class="token constant">Int</span><span class="token punctuation">,</span> <span class="token hvariable">high</span> <span class="token operator">::</span> <span class="token constant">Int</span><span class="token punctuation">,</span> <span class="token hvariable">tolerance</span> <span class="token operator">::</span> <span class="token constant">Int</span> <span class="token punctuation">}</span>
      <span class="token operator">-></span> <span class="token constant">GameState</span>
      <span class="token operator">-></span> <span class="token constant">Game</span> <span class="token punctuation">(</span><span class="token constant">Maybe</span> <span class="token constant">Int</span><span class="token punctuation">)</span>
<span class="token hvariable">logic</span> <span class="token hvariable">g</span> <span class="token punctuation">{</span> <span class="token hvariable">low</span><span class="token operator">:</span> <span class="token hvariable">l</span><span class="token punctuation">,</span> <span class="token hvariable">high</span><span class="token operator">:</span> <span class="token hvariable">h</span><span class="token punctuation">,</span> <span class="token hvariable">tolerance</span><span class="token operator">:</span> <span class="token hvariable">tol</span> <span class="token punctuation">}</span> <span class="token punctuation">(</span><span class="token constant">GameState</span> <span class="token hvariable">guesses</span> <span class="token hvariable">t</span><span class="token punctuation">)</span>
  <span class="token operator">|</span> <span class="token hvariable">guesses</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">=</span> <span class="token keyword">do</span>
    <span class="token hvariable">tell</span> <span class="token operator">$</span> <span class="token hvariable">A.singleton</span> <span class="token operator">$</span> <span class="token string">"Game Over! You're out of guesses. The number was "</span> <span class="token operator">&lt;></span> <span class="token builtin">show</span> <span class="token hvariable">t</span>
    <span class="token hvariable">pure</span> <span class="token operator">$</span> <span class="token constant">Just</span> <span class="token hvariable">t</span>
  <span class="token operator">|</span> <span class="token hvariable">g</span> <span class="token operator">&lt;</span> <span class="token hvariable">l</span> <span class="token operator">=</span> <span class="token keyword">do</span>
    <span class="token hvariable">tell</span> <span class="token operator">$</span> <span class="token hvariable">A.singleton</span> <span class="token string">"Too low for bounds."</span>
    <span class="token hvariable">put</span> <span class="token operator">$</span> <span class="token constant">GameState</span> <span class="token punctuation">(</span><span class="token hvariable">guesses</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token hvariable">t</span>
    <span class="token hvariable">pure</span> <span class="token constant">Nothing</span>
  <span class="token operator">|</span> <span class="token hvariable">g</span> <span class="token operator">></span> <span class="token hvariable">h</span> <span class="token operator">=</span> <span class="token keyword">do</span>
    <span class="token hvariable">tell</span> <span class="token operator">$</span> <span class="token hvariable">A.singleton</span> <span class="token string">"Too high for bounds."</span>
    <span class="token hvariable">put</span> <span class="token operator">$</span> <span class="token constant">GameState</span> <span class="token punctuation">(</span><span class="token hvariable">guesses</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token hvariable">t</span>
    <span class="token hvariable">pure</span> <span class="token constant">Nothing</span>
  <span class="token operator">|</span> <span class="token hvariable">t</span> <span class="token operator">==</span> <span class="token hvariable">g</span> <span class="token operator">=</span> <span class="token keyword">do</span>
    <span class="token hvariable">tell</span> <span class="token operator">$</span> <span class="token hvariable">A.singleton</span> <span class="token string">"That's it, Exactly!"</span>
    <span class="token hvariable">pure</span> <span class="token operator">$</span> <span class="token constant">Just</span> <span class="token hvariable">t</span>
  <span class="token operator">|</span> <span class="token hvariable">g</span> <span class="token operator">&lt;</span> <span class="token hvariable">t</span> <span class="token operator">-</span> <span class="token hvariable">tol</span> <span class="token operator">=</span> <span class="token keyword">do</span>
    <span class="token hvariable">tell</span> <span class="token operator">$</span> <span class="token hvariable">A.singleton</span> <span class="token string">"That's too low, try again."</span>
    <span class="token hvariable">put</span> <span class="token operator">$</span> <span class="token constant">GameState</span> <span class="token punctuation">(</span><span class="token hvariable">guesses</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token hvariable">t</span>
    <span class="token hvariable">pure</span> <span class="token constant">Nothing</span>
  <span class="token operator">|</span> <span class="token hvariable">g</span> <span class="token operator">></span> <span class="token hvariable">t</span> <span class="token operator">+</span> <span class="token hvariable">tol</span> <span class="token operator">=</span> <span class="token keyword">do</span>
    <span class="token hvariable">tell</span> <span class="token operator">$</span> <span class="token hvariable">A.singleton</span> <span class="token string">"That's too high, try again."</span>
    <span class="token hvariable">put</span> <span class="token operator">$</span> <span class="token constant">GameState</span> <span class="token punctuation">(</span><span class="token hvariable">guesses</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token hvariable">t</span>
    <span class="token hvariable">pure</span> <span class="token constant">Nothing</span>
  <span class="token operator">|</span> <span class="token builtin">otherwise</span> <span class="token operator">=</span> <span class="token keyword">do</span>
    <span class="token hvariable">tell</span> <span class="token operator">$</span> <span class="token hvariable">A.singleton</span> <span class="token operator">$</span> <span class="token string">"Close Enough! The number was "</span> <span class="token operator">&lt;></span> <span class="token builtin">show</span> <span class="token hvariable">t</span>
    <span class="token hvariable">pure</span> <span class="token operator">$</span> <span class="token constant">Just</span> <span class="token hvariable">t</span></code></pre>
      </div>
<p>Our logic is good, but we’re not quite finished.</p>
<h4>One Final Thing</h4>
<p>In our <code class="language-text">main</code> function, we create our <code class="language-text">GameState</code> with only the target, but now it also needs a number of <code class="language-text">Guesses</code>. We should probably add that, to appease the compiler gods:</p>
<div class="gatsby-highlight">
      <pre class="language-haskell"><code class="language-haskell"><span class="token hvariable">main</span> <span class="token operator">::</span> <span class="token constant">Effect</span> <span class="token constant">Unit</span>
<span class="token hvariable">main</span> <span class="token operator">=</span> <span class="token hvariable">void</span> <span class="token keyword">do</span>
  <span class="token keyword">let</span> <span class="token hvariable">env</span> <span class="token operator">=</span> <span class="token hvariable">gameEnvironment</span> <span class="token number">1</span> <span class="token number">100</span> <span class="token number">3</span>
  <span class="token hvariable">rnd</span> <span class="token operator">&lt;-</span> <span class="token hvariable">randomInt</span> <span class="token number">1</span> <span class="token number">100</span>
  <span class="token hvariable">runGame</span> <span class="token hvariable">env</span> <span class="token operator">$</span> <span class="token constant">GameState</span> <span class="token number">3</span> <span class="token hvariable">rnd</span></code></pre>
      </div>
<p>And we’re done! Boom! All that’s left is to play the game and revel in our smartness. We try one number…wrong. Another number…wrong. Another number…wrong, Another…wrong. Another…wrong. Wait a minute, something isn’t working here.</p>
<h4>A Big Problem</h4>
<p>The way it’s written <em>looks</em> really good, and it compiles nicely, but…it doesn’t work! Every wrong guess, we pass the initial <code class="language-text">GameState</code> back in. The new state we <code class="language-text">put</code> in within <code class="language-text">logic</code> gets obliterated. We need to fix something within the <code class="language-text">runGame</code> function to get the updated state.</p>
<h3>A Big Solution</h3>
<p>The best solution I see requires only a few small changes. Let’s look at <code class="language-text">logic</code>: it returns a <code class="language-text">Game (Maybe Int)</code>, returning the <code class="language-text">target</code>, but we never do anything with that returned value; it gets ignored. What we do need from <code class="language-text">logic</code>, though, is the updated state. what if we returned that instead? The solution, then, is to invert which branch of the <code class="language-text">Maybe</code> each possibility returns: the correct answers now return the <code class="language-text">Nothing</code>, and the wrong answers return a <code class="language-text">Just GameState</code> with the updated state. We can then remove all calls to <code class="language-text">put</code>, since we no longer need them. Now our function looks like this:</p>
<div class="gatsby-highlight">
      <pre class="language-haskell"><code class="language-haskell"><span class="token hvariable">logic</span> <span class="token operator">::</span> <span class="token constant">Int</span>
      <span class="token operator">-></span> <span class="token punctuation">{</span> <span class="token hvariable">low</span> <span class="token operator">::</span> <span class="token constant">Int</span><span class="token punctuation">,</span> <span class="token hvariable">high</span> <span class="token operator">::</span> <span class="token constant">Int</span><span class="token punctuation">,</span> <span class="token hvariable">tolerance</span> <span class="token operator">::</span> <span class="token constant">Int</span> <span class="token punctuation">}</span>
      <span class="token operator">-></span> <span class="token constant">GameState</span>
      <span class="token operator">-></span> <span class="token constant">Game</span> <span class="token punctuation">(</span><span class="token constant">Maybe</span> <span class="token constant">GameState</span><span class="token punctuation">)</span>
<span class="token hvariable">logic</span> <span class="token hvariable">g</span> <span class="token punctuation">{</span> <span class="token hvariable">low</span><span class="token operator">:</span> <span class="token hvariable">l</span><span class="token punctuation">,</span> <span class="token hvariable">high</span><span class="token operator">:</span> <span class="token hvariable">h</span><span class="token punctuation">,</span> <span class="token hvariable">tolerance</span><span class="token operator">:</span> <span class="token hvariable">tol</span> <span class="token punctuation">}</span> <span class="token punctuation">(</span><span class="token constant">GameState</span> <span class="token hvariable">guesses</span> <span class="token hvariable">t</span><span class="token punctuation">)</span>
  <span class="token operator">|</span> <span class="token hvariable">guesses</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">=</span> <span class="token keyword">do</span>
    <span class="token hvariable">tell</span> <span class="token operator">$</span> <span class="token hvariable">A.singleton</span> <span class="token operator">$</span> <span class="token string">"Game Over! You're out of guesses. The number was "</span> <span class="token operator">&lt;></span> <span class="token builtin">show</span> <span class="token hvariable">t</span>
    <span class="token hvariable">pure</span> <span class="token constant">Nothing</span>
  <span class="token operator">|</span> <span class="token hvariable">g</span> <span class="token operator">&lt;</span> <span class="token hvariable">l</span> <span class="token operator">=</span> <span class="token keyword">do</span>
    <span class="token hvariable">tell</span> <span class="token operator">$</span> <span class="token hvariable">A.singleton</span> <span class="token string">"Too low for bounds."</span>
    <span class="token hvariable">pure</span> <span class="token operator">$</span> <span class="token constant">Just</span> <span class="token operator">$</span> <span class="token constant">GameState</span> <span class="token punctuation">(</span><span class="token hvariable">guesses</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token hvariable">t</span>
  <span class="token operator">|</span> <span class="token hvariable">g</span> <span class="token operator">></span> <span class="token hvariable">h</span> <span class="token operator">=</span> <span class="token keyword">do</span>
    <span class="token hvariable">tell</span> <span class="token operator">$</span> <span class="token hvariable">A.singleton</span> <span class="token string">"Too high for bounds."</span>
    <span class="token hvariable">pure</span> <span class="token operator">$</span> <span class="token constant">Just</span> <span class="token operator">$</span> <span class="token constant">GameState</span> <span class="token punctuation">(</span><span class="token hvariable">guesses</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token hvariable">t</span>
  <span class="token operator">|</span> <span class="token hvariable">t</span> <span class="token operator">==</span> <span class="token hvariable">g</span> <span class="token operator">=</span> <span class="token keyword">do</span>
    <span class="token hvariable">tell</span> <span class="token operator">$</span> <span class="token hvariable">A.singleton</span> <span class="token string">"That's it, Exactly!"</span>
    <span class="token hvariable">pure</span> <span class="token constant">Nothing</span>
  <span class="token operator">|</span> <span class="token hvariable">g</span> <span class="token operator">&lt;</span> <span class="token hvariable">t</span> <span class="token operator">-</span> <span class="token hvariable">tol</span> <span class="token operator">=</span> <span class="token keyword">do</span>
    <span class="token hvariable">tell</span> <span class="token operator">$</span> <span class="token hvariable">A.singleton</span> <span class="token string">"That's too low, try again."</span>
    <span class="token hvariable">pure</span> <span class="token operator">$</span> <span class="token constant">Just</span> <span class="token operator">$</span> <span class="token constant">GameState</span> <span class="token punctuation">(</span><span class="token hvariable">guesses</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token hvariable">t</span>
  <span class="token operator">|</span> <span class="token hvariable">g</span> <span class="token operator">></span> <span class="token hvariable">t</span> <span class="token operator">+</span> <span class="token hvariable">tol</span> <span class="token operator">=</span> <span class="token keyword">do</span>
    <span class="token hvariable">tell</span> <span class="token operator">$</span> <span class="token hvariable">A.singleton</span> <span class="token string">"That's too high, try again."</span>
    <span class="token hvariable">pure</span> <span class="token operator">$</span> <span class="token constant">Just</span> <span class="token operator">$</span> <span class="token constant">GameState</span> <span class="token punctuation">(</span><span class="token hvariable">guesses</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token hvariable">t</span>
  <span class="token operator">|</span> <span class="token builtin">otherwise</span> <span class="token operator">=</span> <span class="token keyword">do</span>
    <span class="token hvariable">tell</span> <span class="token operator">$</span> <span class="token hvariable">A.singleton</span> <span class="token operator">$</span> <span class="token string">"Close Enough! The number was "</span> <span class="token operator">&lt;></span> <span class="token builtin">show</span> <span class="token hvariable">t</span>
    <span class="token hvariable">pure</span> <span class="token constant">Nothing</span></code></pre>
      </div>
<p>Great, now we need to change the type signature of <code class="language-text">game</code> to</p>
<div class="gatsby-highlight">
      <pre class="language-haskell"><code class="language-haskell"><span class="token hvariable">game</span> <span class="token operator">::</span> <span class="token constant">Int</span> <span class="token operator">-></span> <span class="token constant">Game</span> <span class="token punctuation">(</span><span class="token constant">Maybe</span> <span class="token constant">GameState</span><span class="token punctuation">)</span></code></pre>
      </div>
<p>We also need to change the <code class="language-text">lineHandler</code> function within <code class="language-text">runGame</code> to flip the results and feed the new state to the recalling of <code class="language-text">runGame</code>.</p>
<div class="gatsby-highlight">
      <pre class="language-haskell"><code class="language-haskell"><span class="token hvariable">lineHandler</span> <span class="token operator">::</span> <span class="token constant">String</span> <span class="token operator">-></span> <span class="token constant">Effect</span> <span class="token constant">Unit</span>
    <span class="token hvariable">lineHandler</span> <span class="token hvariable">input</span> <span class="token operator">=</span>
      <span class="token keyword">case</span> <span class="token hvariable">fromStringAs</span> <span class="token hvariable">decimal</span> <span class="token hvariable">input</span> <span class="token keyword">of</span>
        <span class="token constant">Just</span> <span class="token hvariable">guess</span> <span class="token operator">-></span> <span class="token keyword">do</span>
          <span class="token keyword">let</span> <span class="token constant">Tuple</span> <span class="token hvariable">result</span> <span class="token hvariable">written</span> <span class="token operator">=</span> <span class="token hvariable">evalRWS</span> <span class="token punctuation">(</span><span class="token hvariable">game</span> <span class="token hvariable">guess</span><span class="token punctuation">)</span> <span class="token hvariable">env</span> <span class="token hvariable">state</span>
          <span class="token hvariable">for_</span> <span class="token hvariable">written</span> <span class="token builtin">log</span>
          <span class="token keyword">case</span> <span class="token hvariable">result</span> <span class="token keyword">of</span>
            <span class="token constant">Nothing</span> <span class="token operator">-></span> <span class="token keyword">do</span>
              <span class="token hvariable">RL.close</span> <span class="token hvariable">interface</span>
            <span class="token constant">Just</span> <span class="token hvariable">newSt</span> <span class="token operator">-></span> <span class="token keyword">do</span>
              <span class="token builtin">log</span> <span class="token string">"Guess again:"</span>
              <span class="token hvariable">RL.close</span> <span class="token hvariable">interface</span>
              <span class="token hvariable">runGame</span> <span class="token hvariable">env</span> <span class="token hvariable">newSt</span>
        <span class="token constant">Nothing</span> <span class="token operator">-></span> <span class="token keyword">do</span>
          <span class="token builtin">log</span> <span class="token string">"Try again, but with a whole number this time."</span>
          <span class="token hvariable">RL.close</span> <span class="token hvariable">interface</span>
          <span class="token hvariable">runGame</span> <span class="token hvariable">env</span> <span class="token hvariable">state</span></code></pre>
      </div>
<p>Now it’s working!</p>
<h4>To Be Continued…</h4>
<p>We’ve successfully limited our guesses. We can now be a Winner…or a Loser. The game functions nicely.</p>
<p>But it can be a bit hard to read the screen sometimes. Perhaps a little color can help the experience of playing. Next time we’ll color the responses to aid the UX, and it’ll come out much sooner than this one did.</p></div><ul class="sc-tilXH beKiKv" data-reactid="20"><li data-reactid="21"><a rel="prev" href="/what-the-adt-p01" data-reactid="22"><!-- react-text: 23 -->← <!-- /react-text --><!-- react-text: 24 -->What the ADT Purescript 01 - Trying our Hand at a Real FP<!-- /react-text --></a></li><li data-reactid="25"><a rel="next" href="/what-the-adt-p03" data-reactid="26"><!-- react-text: 27 -->What the ADT Purescript 03 - Clearing up the Gameplay<!-- /react-text --><!-- react-text: 28 --> →<!-- /react-text --></a></li></ul><hr data-reactid="29"/><div class="sc-uJMKN kYMQsd" data-reactid="30"><img class="sc-bbmXgH iLnEsQ" src="/static/profile-pic.92072487.jpg" alt="Jason Polhemus" data-reactid="31"/><p data-reactid="32"><!-- react-text: 33 -->Written by <!-- /react-text --><strong data-reactid="34">Jason Polhemus</strong><!-- react-text: 35 --> who lives and works in Chicago building useful things and making beautiful sound.<!-- /react-text --><!-- react-text: 36 --> <!-- /react-text --><a class="sc-gGBfsJ lanzan" href="/what-the-adt-p02/https://twitter.com/digitalsthtcs" data-reactid="37">tweets</a></p></div></article></section></div><footer class="sc-hqyNC fsnnjD" data-reactid="38"><section class="sc-jbKcbu jHFEb" data-reactid="39"><!-- react-text: 40 -->© 2018 ∙ Powered by ∙<!-- /react-text --><a href="/what-the-adt-p02/https://www.gatsbyjs.org/" data-reactid="41">Gatsbyjs</a><!-- react-text: 42 -->∙<!-- /react-text --></section></footer></main></div><script id="webpack-manifest">/*<![CDATA[*/window.webpackManifest={"231608221292675":"app-b4347788a110d8c82a8d.js","99219681209289":"component---node-modules-gatsby-plugin-offline-app-shell-js-5c4c5a0f7af9dc69d6d7.js","107818501498521":"component---src-templates-blog-post-js-ba495ac5b447f872b256.js","162898551421021":"component---src-pages-404-js-4503918ea3a16cfcdb75.js","10991734084388":"component---src-pages-about-index-js-a2da4812f898e151e358.js","152176518627018":"component---src-pages-blog-index-js-9a8a58fba5e6a995bd44.js","35783957827783":"component---src-pages-index-js-f1068d7c506f1c6532ce.js","202660965941462":"component---src-pages-projects-index-js-2abb7ecb07f5cf8ea2fe.js","73124068719280":"component---src-pages-shows-index-js-51f77b7fbbcadff1cdfe.js","60335399758886":"path----557518bd178906f8d58a.js","210333531512890":"path---offline-plugin-app-shell-fallback-a0e39f21c11f6a62c5ab.js","121375587451199":"path---what-the-adt-p-03-ab9925b8b229d92f3719.js","242294865920579":"path---what-the-adt-p-02-5d7e91df31e55a506240.js","148761740396195":"path---what-the-adt-p-01-6882842d5c56446a5cb2.js","228620672864471":"path---what-the-adt-04-4e0cace2a7fc7cc787cf.js","174671463525015":"path---what-the-adt-03-e039bd3d35a280c8e24e.js","213318659538528":"path---what-the-adt-02-d29959f47e03c380148a.js","187249004995525":"path---what-the-adt-01-0f5250cbaa09d4385c47.js","16904180988059":"path---what-the-adt-00-8cd7b95619aaa94a811b.js","254022195166212":"path---404-a0e39f21c11f6a62c5ab.js","273950069227526":"path---about-82467519f06429106968.js","49683490770531":"path---blog-a65e0e82753178695867.js","142629428675168":"path---index-82467519f06429106968.js","97786326051841":"path---projects-8e7551befe869fcc07a4.js","75919750994259":"path---shows-db94cf40bab6cce2a1e1.js","178698757827068":"path---404-html-a0e39f21c11f6a62c5ab.js","114276838955818":"component---src-layouts-index-js-40d0a2dab60c18c63a5f.js"}/*]]>*/</script><script>/*<![CDATA[*/!function(e,t,r){function n(){for(;d[0]&&"loaded"==d[0][f];)c=d.shift(),c[o]=!i.parentNode.insertBefore(c,i)}for(var s,a,c,d=[],i=e.scripts[0],o="onreadystatechange",f="readyState";s=r.shift();)a=e.createElement(t),"async"in i?(a.async=!1,e.head.appendChild(a)):i[f]?(d.push(a),a[o]=n):e.write("<"+t+' src="'+s+'" defer></'+t+">"),a.src=s}(document,"script",["/commons-971d228e145f59af702e.js","/app-b4347788a110d8c82a8d.js","/path---what-the-adt-p-02-5d7e91df31e55a506240.js","/component---src-templates-blog-post-js-ba495ac5b447f872b256.js","/component---src-layouts-index-js-40d0a2dab60c18c63a5f.js"])/*]]>*/</script></body></html>