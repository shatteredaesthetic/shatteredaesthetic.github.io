<!DOCTYPE html><html><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="preload" href="/component---src-layouts-index-js-40d0a2dab60c18c63a5f.js" as="script"/><link rel="preload" href="/component---src-templates-blog-post-js-ba495ac5b447f872b256.js" as="script"/><link rel="preload" href="/path---what-the-adt-02-d29959f47e03c380148a.js" as="script"/><link rel="preload" href="/app-e2eecfab6e847c69fbf8.js" as="script"/><link rel="preload" href="/commons-971d228e145f59af702e.js" as="script"/><style data-styled-components="cyApUJ cVQeNr bhLOed dczuPi crDdfX kghjWQ clFNDC cctNeo beKiKv kYMQsd iLnEsQ lanzan fsnnjD jHFEb">
/* sc-component-id: sc-hmzhuo */
.bhLOed{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;max-width:120rem;width:100%;padding-top:1rem;padding-left:2rem;padding-right:2rem;}
/* sc-component-id: sc-frDJqD */
.cVQeNr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:5rem;width:100%;} .cVQeNr a{display:inline;font-size:2.2rem;text-transform:uppercase;line-height:6rem;-webkit-letter-spacing:0.1rem;-moz-letter-spacing:0.1rem;-ms-letter-spacing:0.1rem;letter-spacing:0.1rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){.cVQeNr a{font-size:1.4rem;}} .cVQeNr ul{list-style:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:0;margin-top:0;} .cVQeNr ul li{float:left;margin:0;position:relative;} .cVQeNr ul li a{margin-left:1rem;margin-right:1rem;}
/* sc-component-id: sc-kvZOFW */
.dczuPi{-webkit-text-decoration:none;text-decoration:none;} .dczuPi:hover{color:#33cc66;} .dczuPi:active{color:#c39;}
/* sc-component-id: sc-hqyNC */
.fsnnjD{height:6rem;width:100%;text-align:center;line-height:6rem;}
/* sc-component-id: sc-jbKcbu */
.jHFEb{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;max-width:120rem;width:100%;padding-left:2rem;padding-right:2rem;}
/* sc-component-id: sc-global-3512639352 */
*,*:after,*:before{box-sizing:inherit;} html{box-sizing:border-box;font-size:62.5%;} body{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:#323232;background-color:#fefefe;font-family:'Fira Mono',monospace;font-size:2em;font-weight:400;-webkit-letter-spacing:0.0625em;-moz-letter-spacing:0.0625em;-ms-letter-spacing:0.0625em;letter-spacing:0.0625em;line-height:2.2em;} @media only screen and (min-device-width:320px) and (max-device-width:480px){body{font-size:1.4em;line-height:1.6em;}} a{font-weight:700;color:#000000;-webkit-text-decoration:none;text-decoration:none;} a:focus,a:hover{-webkit-text-decoration:underline;text-decoration:underline;} p{margin:1.6rem 0 1.6rem 0;} p a{font-weight:400;color:#000000;-webkit-text-decoration:underline;text-decoration:underline;text-underline-position:under;} p a:focus,p a:hover{color:#33cc66;} h1,h2,h3,h4,h5,h6{color:#000000;text-transform:uppercase;-webkit-letter-spacing:0.0625em;-moz-letter-spacing:0.0625em;-ms-letter-spacing:0.0625em;letter-spacing:0.0625em;margin:3.2rem 0 1.6rem 0;} h1{font-size:3.2rem;line-height:3.2rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){h1{font-size:2.8rem;line-height:2.8rem;}} h2{font-size:2.8rem;line-height:2.8rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){h2{font-size:2.4rem;line-height:2.4rem;}} h3{font-size:2.4rem;line-height:2.4rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){h3{font-size:2rem;line-height:2rem;}} h4{font-size:2.2rem;line-height:2.2rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){h4{font-size:1.8rem;line-height:1.8rem;}} h5{font-size:2rem;line-height:2rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){h5{font-size:1.6rem;line-height:1.6rem;}} h6{font-size:1.4rem;line-height:1.4rem;} pre{margin:1.6rem 0 1rem 0;padding:1.6rem;overflow-x:auto;} code{background-color:#000000;color:#fefefe;padding:0.4rem 0.8rem 0.4rem 0.8rem;} blockquote{border-left:2px solid #dcdcdc;padding-left:1.6rem;font-style:italic;} th,td{padding:1.6rem;} table{border-collapse:collapse;} table td,table th{border:2px solid #000000;} table tr:first-child th{border-top:0;} table tr:last-child td{border-bottom:0;} table tr td:first-child,table tr th:first-child{border-left:0;} table tr td:last-child,table tr th:last-child{border-right:0;} img{max-width:100%;} .wrapper{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;width:100vw;} .container{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;max-width:120rem;width:100%;padding-left:2rem;padding-right:2rem;} .navigation{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:6rem;width:100%;} .navigation a{display:inline;font-size:1.6rem;text-transform:uppercase;line-height:6rem;-webkit-letter-spacing:0.1rem;-moz-letter-spacing:0.1rem;-ms-letter-spacing:0.1rem;letter-spacing:0.1rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){.navigation a{font-size:1.4rem;}} .navigation ul{list-style:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:0;margin-top:0;} .navigation ul li{float:left;margin:0;position:relative;} .navigation ul li a{margin-left:1rem;margin-right:1rem;} .content{-webkit-flex:1;-ms-flex:1;flex:1;margin-top:1.6rem;margin-bottom:3.2rem;} .content article header{margin-top:3.2rem;margin-bottom:3.2rem;} .content article header h1,.content article header h2{margin:0;} .content article header h2{margin-top:1rem;font-size:1.8rem;color:#323232;} @media only screen and (min-device-width:320px) and (max-device-width:480px){.content article header h2{font-size:1.6rem;}} .list ul{margin:3.2rem 0 3.2rem 0;list-style:none;padding:0;} .list ul li{font-size:1.6rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){.list ul li{font-size:1.4rem;margin:1.6rem 0 1.6rem 0;}} .list ul li span{display:inline-block;text-align:right;width:20rem;margin-right:3rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){.list ul li span{display:block;text-align:left;}} .list ul li a{text-transform:uppercase;} .list p{width:80%;-webkit-align-item:flex-end;-webkit-box-align-item:flex-end;-ms-flex-align-item:flex-end;align-item:flex-end;font-size:0.7em;} .pagination{margin-top:6rem;text-align:center;} .pagination li{display:inline;text-align:center;} .pagination li span{margin:0;text-align:center;width:3.2rem;} .pagination li a span{margin:0;text-align:center;width:3.2rem;} .centered{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:100%;width:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;} .centered .about{text-align:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;} .centered .about h1{margin-top:2rem;margin-bottom:0.5rem;} .centered .about h2{margin-top:1rem;margin-bottom:0.5rem;font-size:2.4rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){.centered .about h2{font-size:2rem;}} .centered .about ul{list-style:none;margin:3rem 0 1rem 0;padding:0;} .centered .about ul li{display:inline;position:relative;} .centered .about ul li a{text-transform:uppercase;margin-left:1rem;margin-right:1rem;font-size:1.6rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){.centered .about ul li a{font-size:1.4rem;}} .centered .error{text-align:center;} .centered .error h1{margin-top:2rem;margin-bottom:0.5rem;font-size:4.6rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){.centered .error h1{font-size:3.2rem;}} .centered .error h2{margin-top:2rem;margin-bottom:3.2rem;font-size:3.2rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){.centered .error h2{font-size:2.8rem;}} .footer{height:6rem;width:100%;text-align:center;line-height:6rem;} .float-right{float:right;} .float-left{float:left;}
/* sc-component-id: sc-dNLxif */
.cyApUJ{min-height:100vh;width:85vw;display:grid;grid-template-rows:50px 1fr 50px;}
/* sc-component-id: sc-jqCOkK */
.crDdfX article header{margin-top:3.2rem;margin-bottom:3.2rem;} .crDdfX article header h1,.crDdfX article header h2{margin:0;} .crDdfX article header h2{margin-top:1rem;font-size:1.8rem;color:#323232;} @media only screen and (min-device-width:320px) and (max-device-width:480px){.crDdfX article header h2{font-size:1.6rem;}}
/* sc-component-id: sc-uJMKN */
.kYMQsd{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:space-between;-webkit-box-align:space-between;-ms-flex-align:space-between;align-items:space-between;}
/* sc-component-id: sc-bbmXgH */
.iLnEsQ{margin-right:2.9rem;margin-bottom:0;width:8.7rem;height:8.7rem;border-radius:50%;}
/* sc-component-id: sc-gGBfsJ */
.lanzan{color:#33cc66;}
/* sc-component-id: sc-jnlKLf */
.kghjWQ{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;max-width:120rem;width:100%;padding-left:2rem;padding-right:2rem;}
/* sc-component-id: sc-fYxtnH */
.clFNDC header{margin-top:3.2rem;margin-bottom:3.2rem;} .clFNDC header h1,.clFNDC header h2{margin:0;} .clFNDC header h2{margin-top:1rem;font-size:1.8rem;color:#323232;} @media only screen and (min-device-width:320px) and (max-device-width:480px){.clFNDC header h2{font-size:1.6rem;}}
/* sc-component-id: sc-tilXH */
.beKiKv{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flexwrap:wrap;-ms-flexwrap:wrap;flexwrap:wrap;justifycontent:space-between;liststyle:none;padding:0;}
/* sc-component-id: sc-hEsumM */
.cctNeo{font-family:Helvetica,sans-serif;} .cctNeo code{font-size:1.2rem;}</style><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><title data-react-helmet="true">What the ADT 02 - A UI Worth Commanding | undefined</title><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.45 'georgia',serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'georgia',serif;font-weight:normal;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}ul{margin-left:1.45rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.45rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;font-size:0.85rem;line-height:1.45rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}blockquote{margin-left:1.45rem;margin-right:1.45rem;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.45rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}b{font-weight:bold;}strong{font-weight:bold;}dt{font-weight:bold;}th{font-weight:bold;}li{margin-bottom:calc(1.45rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.45rem;margin-bottom:calc(1.45rem / 2);margin-top:calc(1.45rem / 2);}li > ul{margin-left:1.45rem;margin-bottom:calc(1.45rem / 2);margin-top:calc(1.45rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.45rem / 2);}code{font-size:0.85rem;line-height:1.45rem;}kbd{font-size:0.85rem;line-height:1.45rem;}samp{font-size:0.85rem;line-height:1.45rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:0.96667rem;padding-right:0.96667rem;padding-top:0.725rem;padding-bottom:calc(0.725rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}</style><style id="gatsby-inlined-css">code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#f8f8f2}.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style></head><body><div id="___gatsby"><main class="sc-dNLxif cyApUJ" data-reactroot="" data-reactid="1" data-react-checksum="1558778560"><nav class="sc-frDJqD cVQeNr" data-reactid="2"><section class="sc-hmzhuo bhLOed" data-reactid="3"><a class="sc-kvZOFW dczuPi" href="/" data-reactid="4">(shatteredaesthetic)</a><ul data-reactid="5"><li data-reactid="6"><a class="sc-kvZOFW dczuPi" href="/blog" data-reactid="7">Blog</a></li><li data-reactid="8"><a class="sc-kvZOFW dczuPi" href="/shows" data-reactid="9">Shows</a></li><li data-reactid="10"><a class="sc-kvZOFW dczuPi" href="/about" data-reactid="11">About</a></li></ul></section></nav><div class="sc-jqCOkK crDdfX" data-reactid="12"><section class="sc-jnlKLf kghjWQ" data-reactid="13"><!-- react-empty: 14 --><article class="sc-fYxtnH clFNDC" data-reactid="15"><header data-reactid="16"><h1 data-reactid="17">What the ADT 02 - A UI Worth Commanding</h1><h2 data-reactid="18">May 12, 2018</h2></header><div class="sc-hEsumM cctNeo" data-reactid="19"><h2>Part 2 - Baby’s First UI, plus Prettification</h2>
<p>Ahoy-hoy! When we left off, we had a function, <code class="language-text">logic</code> that, when given an environment and an integer, weighed the integer against a target in the environment. But…it’s not very ergonomic, is it? A player would have to edit the code and refresh it in the terminal. That allows them to see the environment, and…well, that’s not really a game, is it? More like reading comprehension.</p>
<p>We should create an interface for the player, something that would allow them to actually guess. We’ll start with a command line interface. The player will be asked for a number, and we’ll analyze their guess! Simple enough, but let’s start with a quick rewrite of our code so far. All the code is <a href="https://github.com/shatteredaesthetic/cipher-guess">in this repo</a>, in the <code class="language-text">what-adt-02</code> branch, if you’d like to follow along.</p>
<h4>Perhaps a little refresher…</h4>
<p>Let’s get a recap of what we have:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token comment">// index.js</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> Either<span class="token punctuation">,</span> Reader<span class="token punctuation">,</span> pipe<span class="token punctuation">,</span> pipeK <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'crocks'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> branch <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'crocks/Pair/branch'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> either <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'crocks/pointfree/either'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> runWith <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'crocks/pointfree/runWith'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> taggedSum <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'daggy'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> Right<span class="token punctuation">,</span> Left <span class="token punctuation">}</span> <span class="token operator">=</span> Either

<span class="token keyword">const</span> Ord <span class="token operator">=</span> <span class="token function">taggedSum</span><span class="token punctuation">(</span><span class="token string">'Ord'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  LT<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  EQ<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  GT<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// isTolerant : (Int, Int) -> Int -> Eq</span>
<span class="token keyword">const</span> <span class="token function-variable function">isTolerant</span> <span class="token operator">=</span> <span class="token punctuation">(</span>low<span class="token punctuation">,</span> high<span class="token punctuation">)</span> <span class="token operator">=></span> n <span class="token operator">=></span>
  n <span class="token operator">&lt;</span> low <span class="token operator">?</span> Ord<span class="token punctuation">.</span>LT <span class="token punctuation">:</span> n <span class="token operator">></span> high <span class="token operator">?</span> Ord<span class="token punctuation">.</span>GT <span class="token punctuation">:</span> Ord<span class="token punctuation">.</span>EQ

<span class="token comment">// firstTest : Int -> Either String Int</span>
<span class="token keyword">const</span> <span class="token function-variable function">firstTest</span> <span class="token operator">=</span> n <span class="token operator">=></span>
  <span class="token number">1</span> <span class="token operator">&lt;=</span> n <span class="token operator">&amp;&amp;</span> n <span class="token operator">&lt;=</span> <span class="token number">100</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">isNaN</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>
    <span class="token operator">?</span> <span class="token function">Right</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>
    <span class="token punctuation">:</span> <span class="token function">Left</span><span class="token punctuation">(</span><span class="token string">'You need to learn to follow instructions'</span><span class="token punctuation">)</span>

<span class="token comment">// secondTest : Env -> Int -> Either String Int</span>
<span class="token keyword">const</span> <span class="token function-variable function">secondTest</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> target<span class="token punctuation">,</span> tolerance <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> n <span class="token operator">=></span>
  <span class="token function">branch</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">bimap</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x <span class="token operator">-</span> tolerance<span class="token punctuation">,</span> x <span class="token operator">=></span> x <span class="token operator">+</span> tolerance<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span>isTolerant<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">cata</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      LT<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">Left</span><span class="token punctuation">(</span><span class="token string">'Too Low'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      EQ<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">Right</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">,</span>
      GT<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">Left</span><span class="token punctuation">(</span><span class="token string">'Too High'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// thirdTest : Env -> Int -> Either String String</span>
<span class="token keyword">const</span> <span class="token function-variable function">thirdTest</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> target <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> n <span class="token operator">=></span>
  target <span class="token operator">===</span> n <span class="token operator">?</span> <span class="token function">Right</span><span class="token punctuation">(</span><span class="token string">'Win'</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token function">Right</span><span class="token punctuation">(</span><span class="token string">'Close Enough'</span><span class="token punctuation">)</span>

<span class="token comment">// runTests : Env -> Int -> Either String Int</span>
<span class="token keyword">const</span> <span class="token function-variable function">runTests</span> <span class="token operator">=</span> env <span class="token operator">=></span> <span class="token function">pipeK</span><span class="token punctuation">(</span>firstTest<span class="token punctuation">,</span> <span class="token function">secondTest</span><span class="token punctuation">(</span>env<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">thirdTest</span><span class="token punctuation">(</span>env<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// gameLogic : Either String Int -> Reader (Either String String)</span>
<span class="token keyword">const</span> <span class="token function-variable function">gameLogic</span> <span class="token operator">=</span> either <span class="token operator">=></span> Reader<span class="token punctuation">.</span><span class="token function">ask</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>env <span class="token operator">=></span> either<span class="token punctuation">.</span><span class="token function">chain</span><span class="token punctuation">(</span><span class="token function">runTests</span><span class="token punctuation">(</span>env<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// logic : Env -> Int -> Either String String)</span>
<span class="token keyword">const</span> <span class="token function-variable function">logic</span> <span class="token operator">=</span> env <span class="token operator">=></span> <span class="token function">pipe</span><span class="token punctuation">(</span>Either<span class="token punctuation">.</span><span class="token keyword">of</span><span class="token punctuation">,</span> gameLogic<span class="token punctuation">,</span> <span class="token function">runWith</span><span class="token punctuation">(</span>env<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// output : Either String String -> ()</span>
<span class="token keyword">const</span> output <span class="token operator">=</span> <span class="token function">either</span><span class="token punctuation">(</span>
  str <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Left: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>str<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  str <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Right: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>str<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>

<span class="token comment">// env : Env</span>
<span class="token keyword">const</span> env <span class="token operator">=</span> <span class="token punctuation">{</span>
  target<span class="token punctuation">:</span> <span class="token number">23</span><span class="token punctuation">,</span>
  tolerance<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">logic</span><span class="token punctuation">(</span>env<span class="token punctuation">)</span><span class="token punctuation">,</span> output<span class="token punctuation">)</span>

<span class="token function">result</span><span class="token punctuation">(</span><span class="token number">21</span><span class="token punctuation">)</span> <span class="token comment">// logs: 'Right: Close Enough'</span></code></pre>
      </div>
<p>It works, but we aren’t really using the <code class="language-text">Reader</code> to it’s full potential. Right now we’re unwrapping the <code class="language-text">Reader</code> and passing the <code class="language-text">env</code> to <code class="language-text">runTests</code>, which distributes it further. We’re making good use of the <code class="language-text">Either</code> … what if we could extend the functionality of the <code class="language-text">Reader</code> into out <code class="language-text">Either</code>s.</p>
<h4>There must be a better way!</h4>
<p>It turns out, we can! What we want, essentially, is a Reader that always holds an Either. <code class="language-text">crocks</code> has our back, providing a handy <code class="language-text">ReaderT</code> ADT. This is a <code class="language-text">Reader Transformer</code>, which means that, once provided with a monad, spits out that monad, with an additional Reader interface. For us, that translates into an <code class="language-text">Either</code> that has it’s own configuration to play with. Let’s rewrite our test functions to use this, to get a better handle one what’s happening. But first, some infrastructure:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">{</span> ReaderT <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'crocks'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> ifElse <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'crocks/logic/ifElse'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> K <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'crocks/combinators/constant'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> I <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'crocks/combinators/identity'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> M <span class="token operator">=</span> <span class="token function">ReaderT</span><span class="token punctuation">(</span>Either<span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> ask<span class="token punctuation">,</span> liftFn <span class="token punctuation">}</span> <span class="token operator">=</span> M

<span class="token comment">// fail : String -> () -> Either String ()</span>
<span class="token keyword">const</span> fail <span class="token operator">=</span> <span class="token function">pipe</span><span class="token punctuation">(</span>Left<span class="token punctuation">,</span> K<span class="token punctuation">)</span>

<span class="token comment">// pass : String -> () -> Either () String</span>
<span class="token keyword">const</span> pass <span class="token operator">=</span> <span class="token function">pipe</span><span class="token punctuation">(</span>Right<span class="token punctuation">,</span> K<span class="token punctuation">)</span></code></pre>
      </div>
<p>We’ll import some new functions from <code class="language-text">crocks</code>, grabbing the <code class="language-text">ReaderT</code>, as well as a cool helper function <code class="language-text">ifElse</code> that wraps ternary expressions, and two combinators, <code class="language-text">constant</code> and <code class="language-text">identity</code> (renamed as <code class="language-text">K</code> and <code class="language-text">I</code>, respectively).</p>
<p>Next, we create our transformer <code class="language-text">M</code>, giving the <code class="language-text">Either</code> object to the <code class="language-text">ReaderT</code> constructor. For convenience, we then pull the <code class="language-text">liftFn</code> and <code class="language-text">ask</code> functions off of <code class="language-text">M</code>. The last two functions just allow us to have more readability in our tests. Speaking of, let’s look at our first one:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token comment">// firstTest : Int -> ReaderT Env (Either String Int)</span>
<span class="token keyword">const</span> firstTest <span class="token operator">=</span> <span class="token function">liftFn</span><span class="token punctuation">(</span>
  <span class="token function">ifElse</span><span class="token punctuation">(</span>
    n <span class="token operator">=></span> <span class="token operator">!</span><span class="token function">isNaN</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token number">1</span> <span class="token operator">&lt;=</span> n <span class="token operator">&amp;&amp;</span> n <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token punctuation">,</span>
    Right<span class="token punctuation">,</span>
    <span class="token function">fail</span><span class="token punctuation">(</span><span class="token string">'You need to learn to follow instructions'</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">)</span></code></pre>
      </div>
<p>Let’s look at the first test. It looks very similar to the previous one. We changed the ternary expression in the first version to use <code class="language-text">ifElse</code>. It takes a predicate function, followed by a function to call for a true and a false outcome of the predicate. The input to the predicate is passed to the result functions. The ‘true’ branch has a <code class="language-text">Right</code>, to wrap a true to pass on. The ‘false’ branch calls fail with a message fed in. If you got here, you go no farther.</p>
<p>So far, so good: we’ve replicated the previous behavior. To get this to <code class="language-text">chain</code> on our <code class="language-text">M</code>, though, we’ll need to to return a <code class="language-text">ReaderT Env (Either String Int)</code>. To do this, we only need to wrap our current function in a liftFn. First test - check. Let’s move on:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token comment">// isTolerant : (Int, Int) -> Int -> Eq</span>
<span class="token keyword">const</span> <span class="token function-variable function">isTolerant</span> <span class="token operator">=</span> <span class="token punctuation">(</span>low<span class="token punctuation">,</span> high<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">ifElse</span><span class="token punctuation">(</span>
  n <span class="token operator">&lt;</span> low<span class="token punctuation">,</span>
  <span class="token function">K</span><span class="token punctuation">(</span>Ord<span class="token punctuation">.</span>LT<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function">ifElse</span><span class="token punctuation">(</span>n <span class="token operator">></span> high<span class="token punctuation">,</span> <span class="token function">K</span><span class="token punctuation">(</span>Ord<span class="token punctuation">.</span>GT<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">K</span><span class="token punctuation">(</span>Ord<span class="token punctuation">.</span>EQ<span class="token punctuation">)</span>
<span class="token punctuation">)</span>

<span class="token comment">// secondTest : Int -> ReaderT Env (Either String Int)</span>
<span class="token keyword">const</span> <span class="token function-variable function">secondTest</span> <span class="token operator">=</span> n <span class="token operator">=></span>
  <span class="token function">ask</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> tolerance<span class="token punctuation">,</span> target <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span>
      <span class="token function">branch</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">bimap</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x <span class="token operator">-</span> tolerance<span class="token punctuation">,</span> x <span class="token operator">=></span> x <span class="token operator">+</span> tolerance<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span>isTolerant<span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">ap</span><span class="token punctuation">(</span>M<span class="token punctuation">.</span><span class="token keyword">of</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">chain</span><span class="token punctuation">(</span>
      <span class="token function">liftFn</span><span class="token punctuation">(</span>o <span class="token operator">=></span>
        o<span class="token punctuation">.</span><span class="token function">cata</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          LT<span class="token punctuation">:</span> <span class="token function">fail</span><span class="token punctuation">(</span><span class="token string">'Too Low'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          EQ<span class="token punctuation">:</span> <span class="token function">K</span><span class="token punctuation">(</span><span class="token function">Right</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          GT<span class="token punctuation">:</span> <span class="token function">fail</span><span class="token punctuation">(</span><span class="token string">'Too High'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">)</span>
    <span class="token punctuation">)</span></code></pre>
      </div>
<p><code class="language-text">isTolerant</code> consisted of one ternary expression nested in another ternary expression - pretty easy to rewrite with our handy <code class="language-text">ifElse</code>/<code class="language-text">K</code> combination.</p>
<p>The second test, however, changes much more dramatically. We start by asking for the environment up front, then mapping over it, using our cool <code class="language-text">Pair</code> logic to get our tolerance range, and feeding it to <code class="language-text">isTolerant</code>, which leaves us with a <code class="language-text">ReaderT Env (Either String (Int -&gt; Either String Int)</code>. For the folks at home staring at that in shock and horror (as I have, and do), that’s our <code class="language-text">ReaderT Either</code> holding a function. We have that int as our parameter, of … let’s apply the int by <code class="language-text">ap</code>ing the int wrapped in an <code class="language-text">M.of</code>. This will gove us a <code class="language-text">ReaderT Env Ord</code>. We <code class="language-text">chain</code> over that, calling the <code class="language-text">cata</code> function on the <code class="language-text">Ord</code> to get our <code class="language-text">ReaderT Env (Either String Int)</code>. Whew!</p>
<p>That was wordy, but I hope it made sense. We retain all the pieces from the last implementation, we just move them around a bit to fit our new structure. Great! One more test:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token comment">// thirdTest : Int -> ReaderT Env (Either String String)</span>
<span class="token keyword">const</span> <span class="token function-variable function">thirdTest</span> <span class="token operator">=</span> n <span class="token operator">=></span>
  <span class="token function">ask</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> target <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span>
      <span class="token function">ifElse</span><span class="token punctuation">(</span>n <span class="token operator">=></span> target <span class="token operator">===</span> n<span class="token punctuation">,</span> <span class="token function">pass</span><span class="token punctuation">(</span><span class="token string">'Win'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">pass</span><span class="token punctuation">(</span><span class="token string">'Close Enough'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">ap</span><span class="token punctuation">(</span>M<span class="token punctuation">.</span><span class="token keyword">of</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">chain</span><span class="token punctuation">(</span><span class="token function">liftFn</span><span class="token punctuation">(</span>I<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>
      </div>
<p>The third test is like a combination of the last two. We replace the ternary with the <code class="language-text">ifElse</code> helper, Wrapping our <code class="language-text">Right</code>s in <code class="language-text">K</code> again to discard the input. We call that on the result of <code class="language-text">ask</code>ing for the environment, then <code class="language-text">map</code>ping over it. We again <code class="language-text">ap</code> over the wrapped function to apply the int. To unwrap a layer, we need to <code class="language-text">chain</code> the <code class="language-text">identity</code> combinator (here as <code class="language-text">I</code>), again wrapping it in <code class="language-text">liftFn</code>.</p>
<p>Cool, let’s put these together!</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token comment">// logic :: Int -> ReaderT Env (Either String String)</span>
<span class="token keyword">const</span> logic <span class="token operator">=</span> <span class="token function">pipeK</span><span class="token punctuation">(</span>M<span class="token punctuation">.</span><span class="token keyword">of</span><span class="token punctuation">,</span> firstTest<span class="token punctuation">,</span> secondTest<span class="token punctuation">,</span> thirdTest<span class="token punctuation">)</span></code></pre>
      </div>
<p><code class="language-text">M.of</code> just puts a value into our monad stack, allowing us to <code class="language-text">chain</code> it. Remember, from the last two tests? We use <code class="language-text">pipeK</code> to put these together, like before. Let’s test it out:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token comment">// output :: Either a b -> ()</span>
<span class="token keyword">const</span> output <span class="token operator">=</span> <span class="token function">either</span><span class="token punctuation">(</span>str <span class="token operator">=></span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`[Left] </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>str<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span> str <span class="token operator">=></span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`[Right] </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>str<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// _result :: Env -> Int -> ()</span>
<span class="token keyword">const</span> _result <span class="token operator">=</span> <span class="token function">pipe</span><span class="token punctuation">(</span>logic<span class="token punctuation">,</span> <span class="token function">runWith</span><span class="token punctuation">(</span>env<span class="token punctuation">)</span><span class="token punctuation">,</span> output<span class="token punctuation">)</span>

<span class="token comment">// type Env</span>
<span class="token keyword">const</span> env <span class="token operator">=</span> <span class="token punctuation">{</span>
  target<span class="token punctuation">:</span> <span class="token number">23</span><span class="token punctuation">,</span>
  tolerance<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token comment">// result :: Int -> ()</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">_result</span><span class="token punctuation">(</span>env<span class="token punctuation">)</span>

<span class="token function">result</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// 'Too Low'</span>
<span class="token function">result</span><span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">)</span> <span class="token comment">// 'Close Enough'</span>
<span class="token function">result</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span> <span class="token comment">// 'You need to learn to follow instructions'</span></code></pre>
      </div>
<p>It works! But working with it is still pretty clunky … let’s fix that!</p>
<hr>
<h4>Looking Good, How ‘bout some IO, though?</h4>
<p>The logic is looking good, now let’s get us some interactivity! And, since we’re being monadic, and talking about input and output, you know what time it is: IO-O-O-O-O! the <code class="language-text">IO</code> monad takes a function that side-effects, returning the function wrapped in an IO. The function is only run by calling <code class="language-text">run</code> on the IO, starting the chain of events.</p>
<p>Our first interface will be a command-line one, so I’ll need to import some helper libraries:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> log <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./lib/log'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> IO <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'crocks'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> rls <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'readline-sync'</span><span class="token punctuation">)</span></code></pre>
      </div>
<p>We’re still within <strong>evil-playground</strong>, so we import <code class="language-text">log</code> from <code class="language-text">./lib/log</code>. We grab the IO monad from <code class="language-text">crocks</code>, and we import <code class="language-text">readline-sync</code>, which gives us synchronous readline capabilities.</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token comment">// printLine : String -> IO ()</span>
<span class="token keyword">const</span> <span class="token function-variable function">printLine</span> <span class="token operator">=</span> str <span class="token operator">=></span> IO<span class="token punctuation">.</span><span class="token keyword">of</span><span class="token punctuation">(</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// readLine = () -> IO String</span>
<span class="token keyword">const</span> <span class="token function-variable function">readLine</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> IO<span class="token punctuation">.</span><span class="token keyword">of</span><span class="token punctuation">(</span>rls<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>
      </div>
<p>Here I define my <em>input</em> function, <code class="language-text">readLine</code>, and my <em>output</em> function, <code class="language-text">printLine</code>. <code class="language-text">printLine</code> takes a string and returns an IO that wraps the action of printing that string to the console. <code class="language-text">readLine</code> uses <code class="language-text">prompt</code> from <code class="language-text">readline-sync</code>, which prints out a prompt (I’m using the default <code class="language-text">&#39;&gt; &#39;</code>) and waits for user input. Once the user hits enter, the input is returned as a String.</p>
<p>Now, let’s use these to prompt the user for a guess:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token comment">// getGuess : String -> IO Int</span>
<span class="token keyword">const</span> <span class="token function-variable function">getGuess</span> <span class="token operator">=</span> str <span class="token operator">=></span>
  <span class="token function">printLine</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">chain</span><span class="token punctuation">(</span>readLine<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>s <span class="token operator">=></span> <span class="token function">parseInt</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>
      </div>
<p>This function, when called, returns an IO that prints a message to the console, then waits for user input. It takes that input, which is a String, and converts it to an Integer (-ish. Javascript, right?) inside an IO. All this happens sequentially once <code class="language-text">.run()</code> is called on the <code class="language-text">IO</code> result.</p>
<h4>Uh, we’re getting a little crowded…</h4>
<p>And now, some housekeeping. Let’s clean up our files a bit:</p>
<p><strong>src/utils.js</strong></p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">{</span> Either<span class="token punctuation">,</span> pipe <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'crocks'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> K <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'crocks/combinators/constant'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> tagged <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'daggy'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> Left<span class="token punctuation">,</span> Right <span class="token punctuation">}</span> <span class="token operator">=</span> Either

<span class="token comment">// type Env</span>
<span class="token keyword">const</span> Env <span class="token operator">=</span> <span class="token function">tagged</span><span class="token punctuation">(</span><span class="token string">'Env'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'target'</span><span class="token punctuation">,</span> <span class="token string">'tolerance'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// fail :: String -> () -> Either String ()</span>
<span class="token keyword">const</span> fail <span class="token operator">=</span> <span class="token function">pipe</span><span class="token punctuation">(</span>Left<span class="token punctuation">,</span> K<span class="token punctuation">)</span>

<span class="token comment">// pass :: String -> () -> Either () String</span>
<span class="token keyword">const</span> pass <span class="token operator">=</span> <span class="token function">pipe</span><span class="token punctuation">(</span>Right<span class="token punctuation">,</span> K<span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  Env<span class="token punctuation">,</span>
  fail<span class="token punctuation">,</span>
  pass<span class="token punctuation">,</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p><strong>src/logic.js</strong></p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">{</span> Either<span class="token punctuation">,</span> ReaderT<span class="token punctuation">,</span> pipe<span class="token punctuation">,</span> pipeK <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'crocks'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> branch <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'crocks/Pair/branch'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> K <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'crocks/combinators/constant'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> I <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'crocks/combinators/identity'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> ifElse <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'crocks/logic/ifElse'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> taggedSum <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'daggy'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> fail<span class="token punctuation">,</span> pass <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./utils'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> M <span class="token operator">=</span> <span class="token function">ReaderT</span><span class="token punctuation">(</span>Either<span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> ask<span class="token punctuation">,</span> liftFn <span class="token punctuation">}</span> <span class="token operator">=</span> M
<span class="token keyword">const</span> <span class="token punctuation">{</span> Right<span class="token punctuation">,</span> Left <span class="token punctuation">}</span> <span class="token operator">=</span> Either

<span class="token comment">// type Ord = LT | EQ | GT</span>
<span class="token keyword">const</span> Ord <span class="token operator">=</span> <span class="token function">taggedSum</span><span class="token punctuation">(</span><span class="token string">'Ord'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  LT<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  EQ<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  GT<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// isTolerant : (Int, Int) -> Int -> Eq</span>
<span class="token keyword">const</span> <span class="token function-variable function">isTolerant</span> <span class="token operator">=</span> <span class="token punctuation">(</span>low<span class="token punctuation">,</span> high<span class="token punctuation">)</span> <span class="token operator">=></span>
  <span class="token function">ifElse</span><span class="token punctuation">(</span>n <span class="token operator">=></span> n <span class="token operator">&lt;</span> low<span class="token punctuation">,</span> <span class="token function">K</span><span class="token punctuation">(</span>Ord<span class="token punctuation">.</span>LT<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">ifElse</span><span class="token punctuation">(</span>n <span class="token operator">=></span> n <span class="token operator">></span> high<span class="token punctuation">,</span> <span class="token function">K</span><span class="token punctuation">(</span>Ord<span class="token punctuation">.</span>GT<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">K</span><span class="token punctuation">(</span>Ord<span class="token punctuation">.</span>EQ<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// firstTest : Int -> ReaderT Env (Either String Int)</span>
<span class="token keyword">const</span> firstTest <span class="token operator">=</span> <span class="token function">liftFn</span><span class="token punctuation">(</span>
  <span class="token function">ifElse</span><span class="token punctuation">(</span>
    n <span class="token operator">=></span> <span class="token operator">!</span><span class="token function">isNaN</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token number">1</span> <span class="token operator">&lt;=</span> n <span class="token operator">&amp;&amp;</span> n <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token punctuation">,</span>
    Right<span class="token punctuation">,</span>
    <span class="token function">fail</span><span class="token punctuation">(</span><span class="token string">'You need to learn to follow instructions'</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">)</span>

<span class="token comment">// secondTest : Int -> ReaderT Env (Either String Int)</span>
<span class="token keyword">const</span> <span class="token function-variable function">secondTest</span> <span class="token operator">=</span> n <span class="token operator">=></span>
  <span class="token function">ask</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> tolerance<span class="token punctuation">,</span> target <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span>
      <span class="token function">branch</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">bimap</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x <span class="token operator">-</span> tolerance<span class="token punctuation">,</span> x <span class="token operator">=></span> x <span class="token operator">+</span> tolerance<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span>isTolerant<span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">ap</span><span class="token punctuation">(</span>M<span class="token punctuation">.</span><span class="token keyword">of</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">chain</span><span class="token punctuation">(</span>
      <span class="token function">liftFn</span><span class="token punctuation">(</span>o <span class="token operator">=></span>
        o<span class="token punctuation">.</span><span class="token function">cata</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          LT<span class="token punctuation">:</span> <span class="token function">fail</span><span class="token punctuation">(</span><span class="token string">'Too Low'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          EQ<span class="token punctuation">:</span> <span class="token function">K</span><span class="token punctuation">(</span><span class="token function">Right</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          GT<span class="token punctuation">:</span> <span class="token function">fail</span><span class="token punctuation">(</span><span class="token string">'Too High'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">)</span>
    <span class="token punctuation">)</span>

<span class="token comment">// thirdTest : Int -> ReaderT Env (Either String String)</span>
<span class="token keyword">const</span> <span class="token function-variable function">thirdTest</span> <span class="token operator">=</span> n <span class="token operator">=></span>
  <span class="token function">ask</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> target <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span>
      <span class="token function">ifElse</span><span class="token punctuation">(</span>n <span class="token operator">=></span> target <span class="token operator">===</span> n<span class="token punctuation">,</span> <span class="token function">pass</span><span class="token punctuation">(</span><span class="token string">'Win'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">pass</span><span class="token punctuation">(</span><span class="token string">'Close Enough'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">ap</span><span class="token punctuation">(</span>M<span class="token punctuation">.</span><span class="token keyword">of</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">chain</span><span class="token punctuation">(</span><span class="token function">liftFn</span><span class="token punctuation">(</span>I<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// runTests :: Int -> ReaderT Env (Either String String)</span>
<span class="token keyword">const</span> runTests <span class="token operator">=</span> <span class="token function">pipeK</span><span class="token punctuation">(</span>M<span class="token punctuation">.</span><span class="token keyword">of</span><span class="token punctuation">,</span> firstTest<span class="token punctuation">,</span> secondTest<span class="token punctuation">,</span> thirdTest<span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  runTests<span class="token punctuation">,</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p><strong>src/cli.js</strong></p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> log <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../lib/log'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> IO <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'crocks'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> rls <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'readline-sync'</span><span class="token punctuation">)</span>

<span class="token comment">// printLine : String -> IO ()</span>
<span class="token keyword">const</span> <span class="token function-variable function">printLine</span> <span class="token operator">=</span> str <span class="token operator">=></span> IO<span class="token punctuation">.</span><span class="token keyword">of</span><span class="token punctuation">(</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// readLine = () -> IO String</span>
<span class="token keyword">const</span> <span class="token function-variable function">readLine</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> IO<span class="token punctuation">.</span><span class="token keyword">of</span><span class="token punctuation">(</span>rls<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// getGuess : String -> IO Int</span>
<span class="token keyword">const</span> <span class="token function-variable function">getGuess</span> <span class="token operator">=</span> str <span class="token operator">=></span>
  <span class="token function">printLine</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">chain</span><span class="token punctuation">(</span>readLine<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>s <span class="token operator">=></span> <span class="token function">parseInt</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  getGuess<span class="token punctuation">,</span>
  printLine<span class="token punctuation">,</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p><strong>index.js</strong></p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> pipe <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'crocks/helpers/pipe'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> either <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'crocks/pointfree/either'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> runWith <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'crocks/pointfree/runWith'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> runTests <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./src/logic'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> printLine<span class="token punctuation">,</span> getGuess <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./src/cli'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> Env <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./src/utils'</span><span class="token punctuation">)</span>

<span class="token comment">// output : Either String String -> IO ()</span>
<span class="token keyword">const</span> output <span class="token operator">=</span> <span class="token function">either</span><span class="token punctuation">(</span>printLine<span class="token punctuation">,</span> printLine<span class="token punctuation">)</span>

<span class="token comment">// logic : Env -> Int -> Either String String</span>
<span class="token keyword">const</span> <span class="token function-variable function">logic</span> <span class="token operator">=</span> env <span class="token operator">=></span> <span class="token function">pipe</span><span class="token punctuation">(</span>runTests<span class="token punctuation">,</span> <span class="token function">runWith</span><span class="token punctuation">(</span>env<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// main : Env -> IO ()</span>
<span class="token keyword">const</span> <span class="token function-variable function">main</span> <span class="token operator">=</span> env <span class="token operator">=></span>
  <span class="token function">getGuess</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Guess a number between 1 and 100`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token function">logic</span><span class="token punctuation">(</span>env<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">chain</span><span class="token punctuation">(</span>output<span class="token punctuation">)</span>

<span class="token function">main</span><span class="token punctuation">(</span><span class="token function">Env</span><span class="token punctuation">(</span><span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
      </div>
<p>We rewrite <code class="language-text">output</code> to just print the message either way. <code class="language-text">main</code> is our whole game! We print out instructions, wait for user input, then run that input through the logic, providing it an environment, then send it through the <code class="language-text">output</code> so we can see the result of our guess. <em>et viola!</em></p>
<h4>That’s about as much as I can take</h4>
<p>Now we have a guessing game where the user can guess once. Pretty neat, but that isn’t much. Also, it just runs without ever terminating, but we can’t keep guessing if we get it wrong. We’ll fix that next time. Stay tuned…</p></div><ul class="sc-tilXH beKiKv" data-reactid="20"><li data-reactid="21"><a rel="prev" href="/what-the-adt-01" data-reactid="22"><!-- react-text: 23 -->← <!-- /react-text --><!-- react-text: 24 -->What the ADT 01 - Getting to the Heart of Things<!-- /react-text --></a></li><li data-reactid="25"><a rel="next" href="/what-the-adt-03" data-reactid="26"><!-- react-text: 27 -->What the ADT 03 - More Than Just a Single-Use<!-- /react-text --><!-- react-text: 28 --> →<!-- /react-text --></a></li></ul><hr data-reactid="29"/><div class="sc-uJMKN kYMQsd" data-reactid="30"><img class="sc-bbmXgH iLnEsQ" src="/static/profile-pic.92072487.jpg" alt="Jason Polhemus" data-reactid="31"/><p data-reactid="32"><!-- react-text: 33 -->Written by <!-- /react-text --><strong data-reactid="34">Jason Polhemus</strong><!-- react-text: 35 --> who lives and works in Chicago building useful things and making beautiful sound.<!-- /react-text --><!-- react-text: 36 --> <!-- /react-text --><a class="sc-gGBfsJ lanzan" href="/what-the-adt-02/https://twitter.com/digitalsthtcs" data-reactid="37">tweets</a></p></div></article></section></div><footer class="sc-hqyNC fsnnjD" data-reactid="38"><section class="sc-jbKcbu jHFEb" data-reactid="39"><!-- react-text: 40 -->© 2018 ∙ Powered by ∙<!-- /react-text --><a href="/what-the-adt-02/https://www.gatsbyjs.org/" data-reactid="41">Gatsbyjs</a><!-- react-text: 42 -->∙<!-- /react-text --></section></footer></main></div><script id="webpack-manifest">/*<![CDATA[*/window.webpackManifest={"231608221292675":"app-e2eecfab6e847c69fbf8.js","99219681209289":"component---node-modules-gatsby-plugin-offline-app-shell-js-5c4c5a0f7af9dc69d6d7.js","107818501498521":"component---src-templates-blog-post-js-ba495ac5b447f872b256.js","162898551421021":"component---src-pages-404-js-4503918ea3a16cfcdb75.js","10991734084388":"component---src-pages-about-index-js-dedb34c066c38b458401.js","152176518627018":"component---src-pages-blog-index-js-9a8a58fba5e6a995bd44.js","35783957827783":"component---src-pages-index-js-f1068d7c506f1c6532ce.js","202660965941462":"component---src-pages-projects-index-js-2abb7ecb07f5cf8ea2fe.js","73124068719280":"component---src-pages-shows-index-js-51f77b7fbbcadff1cdfe.js","60335399758886":"path----557518bd178906f8d58a.js","210333531512890":"path---offline-plugin-app-shell-fallback-a0e39f21c11f6a62c5ab.js","148761740396195":"path---what-the-adt-p-01-827c650dbdb788e89040.js","228620672864471":"path---what-the-adt-04-4e0cace2a7fc7cc787cf.js","174671463525015":"path---what-the-adt-03-e039bd3d35a280c8e24e.js","213318659538528":"path---what-the-adt-02-d29959f47e03c380148a.js","187249004995525":"path---what-the-adt-01-0f5250cbaa09d4385c47.js","16904180988059":"path---what-the-adt-00-8cd7b95619aaa94a811b.js","254022195166212":"path---404-a0e39f21c11f6a62c5ab.js","273950069227526":"path---about-82467519f06429106968.js","49683490770531":"path---blog-674a69d7d331b13b4db8.js","142629428675168":"path---index-82467519f06429106968.js","97786326051841":"path---projects-8e7551befe869fcc07a4.js","75919750994259":"path---shows-622ef55691ede7763a29.js","178698757827068":"path---404-html-a0e39f21c11f6a62c5ab.js","114276838955818":"component---src-layouts-index-js-40d0a2dab60c18c63a5f.js"}/*]]>*/</script><script>/*<![CDATA[*/!function(e,t,r){function n(){for(;d[0]&&"loaded"==d[0][f];)c=d.shift(),c[o]=!i.parentNode.insertBefore(c,i)}for(var s,a,c,d=[],i=e.scripts[0],o="onreadystatechange",f="readyState";s=r.shift();)a=e.createElement(t),"async"in i?(a.async=!1,e.head.appendChild(a)):i[f]?(d.push(a),a[o]=n):e.write("<"+t+' src="'+s+'" defer></'+t+">"),a.src=s}(document,"script",["/commons-971d228e145f59af702e.js","/app-e2eecfab6e847c69fbf8.js","/path---what-the-adt-02-d29959f47e03c380148a.js","/component---src-templates-blog-post-js-ba495ac5b447f872b256.js","/component---src-layouts-index-js-40d0a2dab60c18c63a5f.js"])/*]]>*/</script></body></html>