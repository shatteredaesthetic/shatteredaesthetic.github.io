<!DOCTYPE html><html><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="preload" href="/component---src-layouts-index-js-40d0a2dab60c18c63a5f.js" as="script"/><link rel="preload" href="/component---src-templates-blog-post-js-ba495ac5b447f872b256.js" as="script"/><link rel="preload" href="/path---what-the-adt-04-4e0cace2a7fc7cc787cf.js" as="script"/><link rel="preload" href="/app-b4347788a110d8c82a8d.js" as="script"/><link rel="preload" href="/commons-971d228e145f59af702e.js" as="script"/><style data-styled-components="cyApUJ cVQeNr bhLOed dczuPi crDdfX kghjWQ clFNDC cctNeo beKiKv kYMQsd iLnEsQ lanzan fsnnjD jHFEb">
/* sc-component-id: sc-hmzhuo */
.bhLOed{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;max-width:120rem;width:100%;padding-top:1rem;padding-left:2rem;padding-right:2rem;}
/* sc-component-id: sc-frDJqD */
.cVQeNr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:5rem;width:100%;} .cVQeNr a{display:inline;font-size:2.2rem;text-transform:uppercase;line-height:6rem;-webkit-letter-spacing:0.1rem;-moz-letter-spacing:0.1rem;-ms-letter-spacing:0.1rem;letter-spacing:0.1rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){.cVQeNr a{font-size:1.4rem;}} .cVQeNr ul{list-style:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:0;margin-top:0;} .cVQeNr ul li{float:left;margin:0;position:relative;} .cVQeNr ul li a{margin-left:1rem;margin-right:1rem;}
/* sc-component-id: sc-kvZOFW */
.dczuPi{-webkit-text-decoration:none;text-decoration:none;} .dczuPi:hover{color:#33cc66;} .dczuPi:active{color:#c39;}
/* sc-component-id: sc-hqyNC */
.fsnnjD{height:6rem;width:100%;text-align:center;line-height:6rem;}
/* sc-component-id: sc-jbKcbu */
.jHFEb{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;max-width:120rem;width:100%;padding-left:2rem;padding-right:2rem;}
/* sc-component-id: sc-global-3512639352 */
*,*:after,*:before{box-sizing:inherit;} html{box-sizing:border-box;font-size:62.5%;} body{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:#323232;background-color:#fefefe;font-family:'Fira Mono',monospace;font-size:2em;font-weight:400;-webkit-letter-spacing:0.0625em;-moz-letter-spacing:0.0625em;-ms-letter-spacing:0.0625em;letter-spacing:0.0625em;line-height:2.2em;} @media only screen and (min-device-width:320px) and (max-device-width:480px){body{font-size:1.4em;line-height:1.6em;}} a{font-weight:700;color:#000000;-webkit-text-decoration:none;text-decoration:none;} a:focus,a:hover{-webkit-text-decoration:underline;text-decoration:underline;} p{margin:1.6rem 0 1.6rem 0;} p a{font-weight:400;color:#000000;-webkit-text-decoration:underline;text-decoration:underline;text-underline-position:under;} p a:focus,p a:hover{color:#33cc66;} h1,h2,h3,h4,h5,h6{color:#000000;text-transform:uppercase;-webkit-letter-spacing:0.0625em;-moz-letter-spacing:0.0625em;-ms-letter-spacing:0.0625em;letter-spacing:0.0625em;margin:3.2rem 0 1.6rem 0;} h1{font-size:3.2rem;line-height:3.2rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){h1{font-size:2.8rem;line-height:2.8rem;}} h2{font-size:2.8rem;line-height:2.8rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){h2{font-size:2.4rem;line-height:2.4rem;}} h3{font-size:2.4rem;line-height:2.4rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){h3{font-size:2rem;line-height:2rem;}} h4{font-size:2.2rem;line-height:2.2rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){h4{font-size:1.8rem;line-height:1.8rem;}} h5{font-size:2rem;line-height:2rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){h5{font-size:1.6rem;line-height:1.6rem;}} h6{font-size:1.4rem;line-height:1.4rem;} pre{margin:1.6rem 0 1rem 0;padding:1.6rem;overflow-x:auto;} code{background-color:#000000;color:#fefefe;padding:0.4rem 0.8rem 0.4rem 0.8rem;} blockquote{border-left:2px solid #dcdcdc;padding-left:1.6rem;font-style:italic;} th,td{padding:1.6rem;} table{border-collapse:collapse;} table td,table th{border:2px solid #000000;} table tr:first-child th{border-top:0;} table tr:last-child td{border-bottom:0;} table tr td:first-child,table tr th:first-child{border-left:0;} table tr td:last-child,table tr th:last-child{border-right:0;} img{max-width:100%;} .wrapper{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;width:100vw;} .container{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;max-width:120rem;width:100%;padding-left:2rem;padding-right:2rem;} .navigation{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:6rem;width:100%;} .navigation a{display:inline;font-size:1.6rem;text-transform:uppercase;line-height:6rem;-webkit-letter-spacing:0.1rem;-moz-letter-spacing:0.1rem;-ms-letter-spacing:0.1rem;letter-spacing:0.1rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){.navigation a{font-size:1.4rem;}} .navigation ul{list-style:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:0;margin-top:0;} .navigation ul li{float:left;margin:0;position:relative;} .navigation ul li a{margin-left:1rem;margin-right:1rem;} .content{-webkit-flex:1;-ms-flex:1;flex:1;margin-top:1.6rem;margin-bottom:3.2rem;} .content article header{margin-top:3.2rem;margin-bottom:3.2rem;} .content article header h1,.content article header h2{margin:0;} .content article header h2{margin-top:1rem;font-size:1.8rem;color:#323232;} @media only screen and (min-device-width:320px) and (max-device-width:480px){.content article header h2{font-size:1.6rem;}} .list ul{margin:3.2rem 0 3.2rem 0;list-style:none;padding:0;} .list ul li{font-size:1.6rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){.list ul li{font-size:1.4rem;margin:1.6rem 0 1.6rem 0;}} .list ul li span{display:inline-block;text-align:right;width:20rem;margin-right:3rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){.list ul li span{display:block;text-align:left;}} .list ul li a{text-transform:uppercase;} .list p{width:80%;-webkit-align-item:flex-end;-webkit-box-align-item:flex-end;-ms-flex-align-item:flex-end;align-item:flex-end;font-size:0.7em;} .pagination{margin-top:6rem;text-align:center;} .pagination li{display:inline;text-align:center;} .pagination li span{margin:0;text-align:center;width:3.2rem;} .pagination li a span{margin:0;text-align:center;width:3.2rem;} .centered{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:100%;width:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;} .centered .about{text-align:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;} .centered .about h1{margin-top:2rem;margin-bottom:0.5rem;} .centered .about h2{margin-top:1rem;margin-bottom:0.5rem;font-size:2.4rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){.centered .about h2{font-size:2rem;}} .centered .about ul{list-style:none;margin:3rem 0 1rem 0;padding:0;} .centered .about ul li{display:inline;position:relative;} .centered .about ul li a{text-transform:uppercase;margin-left:1rem;margin-right:1rem;font-size:1.6rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){.centered .about ul li a{font-size:1.4rem;}} .centered .error{text-align:center;} .centered .error h1{margin-top:2rem;margin-bottom:0.5rem;font-size:4.6rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){.centered .error h1{font-size:3.2rem;}} .centered .error h2{margin-top:2rem;margin-bottom:3.2rem;font-size:3.2rem;} @media only screen and (min-device-width:320px) and (max-device-width:480px){.centered .error h2{font-size:2.8rem;}} .footer{height:6rem;width:100%;text-align:center;line-height:6rem;} .float-right{float:right;} .float-left{float:left;}
/* sc-component-id: sc-dNLxif */
.cyApUJ{min-height:100vh;width:85vw;display:grid;grid-template-rows:50px 1fr 50px;}
/* sc-component-id: sc-jqCOkK */
.crDdfX article header{margin-top:3.2rem;margin-bottom:3.2rem;} .crDdfX article header h1,.crDdfX article header h2{margin:0;} .crDdfX article header h2{margin-top:1rem;font-size:1.8rem;color:#323232;} @media only screen and (min-device-width:320px) and (max-device-width:480px){.crDdfX article header h2{font-size:1.6rem;}}
/* sc-component-id: sc-uJMKN */
.kYMQsd{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:space-between;-webkit-box-align:space-between;-ms-flex-align:space-between;align-items:space-between;}
/* sc-component-id: sc-bbmXgH */
.iLnEsQ{margin-right:2.9rem;margin-bottom:0;width:8.7rem;height:8.7rem;border-radius:50%;}
/* sc-component-id: sc-gGBfsJ */
.lanzan{color:#33cc66;}
/* sc-component-id: sc-jnlKLf */
.kghjWQ{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;max-width:120rem;width:100%;padding-left:2rem;padding-right:2rem;}
/* sc-component-id: sc-fYxtnH */
.clFNDC header{margin-top:3.2rem;margin-bottom:3.2rem;} .clFNDC header h1,.clFNDC header h2{margin:0;} .clFNDC header h2{margin-top:1rem;font-size:1.8rem;color:#323232;} @media only screen and (min-device-width:320px) and (max-device-width:480px){.clFNDC header h2{font-size:1.6rem;}}
/* sc-component-id: sc-tilXH */
.beKiKv{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flexwrap:wrap;-ms-flexwrap:wrap;flexwrap:wrap;justifycontent:space-between;liststyle:none;padding:0;}
/* sc-component-id: sc-hEsumM */
.cctNeo{font-family:Helvetica,sans-serif;} .cctNeo code{font-size:1.2rem;}</style><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><title data-react-helmet="true">What the ADT 04 - Things are Starting to Get Random | undefined</title><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.45 'georgia',serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'georgia',serif;font-weight:normal;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}ul{margin-left:1.45rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.45rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;font-size:0.85rem;line-height:1.45rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}blockquote{margin-left:1.45rem;margin-right:1.45rem;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.45rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}b{font-weight:bold;}strong{font-weight:bold;}dt{font-weight:bold;}th{font-weight:bold;}li{margin-bottom:calc(1.45rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.45rem;margin-bottom:calc(1.45rem / 2);margin-top:calc(1.45rem / 2);}li > ul{margin-left:1.45rem;margin-bottom:calc(1.45rem / 2);margin-top:calc(1.45rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.45rem / 2);}code{font-size:0.85rem;line-height:1.45rem;}kbd{font-size:0.85rem;line-height:1.45rem;}samp{font-size:0.85rem;line-height:1.45rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:0.96667rem;padding-right:0.96667rem;padding-top:0.725rem;padding-bottom:calc(0.725rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}</style><style id="gatsby-inlined-css">code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#f8f8f2}.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style></head><body><div id="___gatsby"><main class="sc-dNLxif cyApUJ" data-reactroot="" data-reactid="1" data-react-checksum="-539863924"><nav class="sc-frDJqD cVQeNr" data-reactid="2"><section class="sc-hmzhuo bhLOed" data-reactid="3"><a class="sc-kvZOFW dczuPi" href="/" data-reactid="4">(shatteredaesthetic)</a><ul data-reactid="5"><li data-reactid="6"><a class="sc-kvZOFW dczuPi" href="/blog" data-reactid="7">Blog</a></li><li data-reactid="8"><a class="sc-kvZOFW dczuPi" href="/shows" data-reactid="9">Shows</a></li><li data-reactid="10"><a class="sc-kvZOFW dczuPi" href="/about" data-reactid="11">About</a></li></ul></section></nav><div class="sc-jqCOkK crDdfX" data-reactid="12"><section class="sc-jnlKLf kghjWQ" data-reactid="13"><!-- react-empty: 14 --><article class="sc-fYxtnH clFNDC" data-reactid="15"><header data-reactid="16"><h1 data-reactid="17">What the ADT 04 - Things are Starting to Get Random</h1><h2 data-reactid="18">July 29, 2018</h2></header><div class="sc-hEsumM cctNeo" data-reactid="19"><h2>Part 4: We’re Getting Tired of Guessing the same Number</h2>
<p>Welcome back, it’s been a while, I know. Lots of big changes for me personally, which reminds me: I’m now based out of Chicago, so if you know of anyone who’s hiring, send me word. Much obliged.</p>
<p>Anyway, back to the tasks at hand. When last we left we had a command line game that we could keep guessing the number until we got it (or at least are close enough). But the number never changed. That makes for a fun guessing game — once. We can - nay, we should - do better! We deserve a new number each time! We deserve that number to be random within our range! We deserve healthcare — wait, sorry. Wrong platform (though by no means wrong).</p>
<p>So let’s get to work. All the previous code is in this <a href="https://github.com/shatteredaesthetic/cipher-guess/tree/what-adt-03">repo</a>. I’m not going to print it all here today, because…well, it’s simply getting to be too much now.</p>
<h3>Random as in Jellyfish</h3>
<p>We’re actually going to steal a lot of the code for generating random numbers from an <a href="https://www.youtube.com/watch?v=TwFta_ES0pY">excellent tutorial</a> given by <a href="https://github.com/evilsoft">evilsoft</a>. If you are reading this: fine work, sir.</p>
<p>I’m going to post the code, then we’ll go through it</p>
<p><em>src/random.js</em></p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">{</span> State<span class="token punctuation">,</span> IO <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'crocks'</span><span class="token punctuation">)</span>

<span class="token comment">// newSeed : () -> State Int Int</span>
<span class="token keyword">const</span> <span class="token function-variable function">newSeed</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span>
  State<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>s <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token number">1103515244</span> <span class="token operator">*</span> s <span class="token operator">+</span> <span class="token number">12345</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">0x7fffffff</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">chain</span><span class="token punctuation">(</span>State<span class="token punctuation">.</span>put<span class="token punctuation">)</span>

<span class="token comment">// calcValue : () => State Int Float</span>
<span class="token keyword">const</span> <span class="token function-variable function">calcValue</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> State<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>s <span class="token operator">=></span> <span class="token punctuation">(</span>s <span class="token operator">>>></span> <span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">0x7fff</span><span class="token punctuation">)</span>

<span class="token comment">// clamp : (Int, Int) -> Float -> Int</span>
<span class="token keyword">const</span> <span class="token function-variable function">clamp</span> <span class="token operator">=</span> <span class="token punctuation">(</span>low<span class="token punctuation">,</span> high<span class="token punctuation">)</span> <span class="token operator">=></span> n <span class="token operator">=></span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>n <span class="token operator">*</span> <span class="token punctuation">(</span>high <span class="token operator">-</span> low<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> low

<span class="token comment">// type alias Low, High, Seed = Int</span>
<span class="token comment">// randomRIO : (Low, High, Seed) -> IO Int</span>
<span class="token keyword">const</span> <span class="token function-variable function">randomRIO</span> <span class="token operator">=</span> <span class="token punctuation">(</span>low<span class="token punctuation">,</span> high<span class="token punctuation">,</span> seed<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> st <span class="token operator">=</span> <span class="token function">newSeed</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">chain</span><span class="token punctuation">(</span>calcValue<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token function">clamp</span><span class="token punctuation">(</span>low<span class="token punctuation">,</span> high<span class="token punctuation">)</span><span class="token punctuation">)</span>

  <span class="token keyword">return</span> IO<span class="token punctuation">.</span><span class="token keyword">of</span><span class="token punctuation">(</span>st<span class="token punctuation">.</span><span class="token function">evalWith</span><span class="token punctuation">(</span>seed<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  randomRIO<span class="token punctuation">,</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>I’m not going to explain those hard-coded numbers; I’m going to instead suggest you watch the aforementioned <a href="https://www.youtube.com/watch?v=TwFta_ES0pY">tutorial video</a>. I will, however, explain what’s happening.</p>
<p>Our interface to this module is the <code class="language-text">randomRIO</code> function. This takes three Ints — the <code class="language-text">low</code> and the <code class="language-text">high</code> numbers that make up the playable range, and a seed for generating the number. First, we call a helper function <code class="language-text">newSeed</code>. It takes no inputs, and outputs a <code class="language-text">State Int Int</code>. This type is what we’ll ultimately unwrap into our <code class="language-text">IO</code>. Think of it as <code class="language-text">State NewSeed RandomNumber</code>. For <code class="language-text">newSeed</code>, we return a <code class="language-text">State NewSeed IntFromOldSeed</code>.</p>
<p>Next, we chain into <code class="language-text">calcValue</code>. This takes no inputs, and essentially returns <code class="language-text">State NewSeed FloatFromOldSeed</code>. Finally, we map into <code class="language-text">clamp</code> after feeding it the <code class="language-text">low</code> and <code class="language-text">high</code> parameters from <code class="language-text">randomRIO</code>. that returns a function that takes our float (the <code class="language-text">FloatFromOldSeed</code> from the last function) and fixes it into our range. We’re left with <code class="language-text">State NewSeed RandomNumber</code>, our goal!</p>
<p>In the return value, we run <code class="language-text">evalWith</code> on our <code class="language-text">State</code>, giving it the <code class="language-text">seed</code> as the <code class="language-text">OldSeed</code>. Using <code class="language-text">evalWith</code> will return only the return value, the<code class="language-text">randomNumber</code>. We wrap this in an<code class="language-text">IO</code>. Boom! Pure random numbers.</p>
<h3>A space for randomness</h3>
<p>Previously, we had an <code class="language-text">Env</code> type, but it simply wrapped a <em>tolerance</em> and <em>target</em>. Now, we need to bring the <em>range</em> into <code class="language-text">Env</code>, and use that to compute the <em>target</em>. Let’s split all this logic into it’s own module:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">{</span> State <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'crocks'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> tagged <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'daggy'</span><span class="token punctuation">)</span>

<span class="token comment">// type alias low, high, tolerance = Int</span>
<span class="token comment">// type Config = { low, high, tolerance }</span>
<span class="token keyword">const</span> Config <span class="token operator">=</span> <span class="token function">tagged</span><span class="token punctuation">(</span><span class="token string">'Config'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'low'</span><span class="token punctuation">,</span> <span class="token string">'high'</span><span class="token punctuation">,</span> <span class="token string">'tolerance'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// type alias target = Int</span>
<span class="token comment">// type Env = { target, Config }</span>
<span class="token keyword">const</span> Env <span class="token operator">=</span> <span class="token function">tagged</span><span class="token punctuation">(</span><span class="token string">'Env'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'target'</span><span class="token punctuation">,</span> <span class="token string">'config'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// defaultCfg : Config</span>
<span class="token keyword">const</span> defaultCfg <span class="token operator">=</span> <span class="token function">Config</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  Env<span class="token punctuation">,</span>
  defaultCfg<span class="token punctuation">,</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<blockquote>
<p>We previously had an <code class="language-text">Env</code> type in our <em>src/utils.js</em> file. That’s being replaced. I’m not going to show it here, but you should delete the <code class="language-text">Env</code> type from that file, if you’re playing along at home.</p>
</blockquote>
<p>Since we need some of the <code class="language-text">Env</code> to create other parts of the <code class="language-text">Env</code>, I opted to split the type into two, having one as a subtype. <code class="language-text">Config</code> holds our <em>tolerance</em> and our <em>range</em>, split out to it’s <em>low</em> and <em>high</em> components, respectively. These values won’t be changing during the game, and can be determined before the game starts. We create a default version of it (<code class="language-text">defaultCfg</code>) to feed to <code class="language-text">main</code>. <code class="language-text">Env</code> simply wraps a <code class="language-text">Config</code> together with a <em>target</em>.</p>
<h3>Now we’re being illogical</h3>
<p>…And our logic’s broken. Damn. We were giving it an <code class="language-text">Env</code> that was flat, and now we’ve added a layer. That’s gonna screw up our logic functions. Also, we’re no longer hard-coding the <em>range</em> values, so we’ll also need to get those where they’re needed.</p>
<p>Let’s start simple: the <code class="language-text">secondTest</code>.</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token comment">// secondTest : Int -> ReaderT Env (Either Failure Int)</span>
<span class="token keyword">const</span> <span class="token function-variable function">secondTest</span> <span class="token operator">=</span> n <span class="token operator">=></span>
  <span class="token function">ask</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> target<span class="token punctuation">,</span> config<span class="token punctuation">:</span> <span class="token punctuation">{</span> tolerance <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span>
      <span class="token function">branch</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">bimap</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x <span class="token operator">-</span> tolerance<span class="token punctuation">,</span> x <span class="token operator">=></span> x <span class="token operator">+</span> tolerance<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span>isTolerant<span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">ap</span><span class="token punctuation">(</span>M<span class="token punctuation">.</span><span class="token keyword">of</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">chain</span><span class="token punctuation">(</span>
      <span class="token function">liftFn</span><span class="token punctuation">(</span>o <span class="token operator">=></span>
        o<span class="token punctuation">.</span><span class="token function">cata</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          LT<span class="token punctuation">:</span> <span class="token function">K</span><span class="token punctuation">(</span><span class="token function">Left</span><span class="token punctuation">(</span>Failure<span class="token punctuation">.</span><span class="token function">TooLow</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          EQ<span class="token punctuation">:</span> <span class="token function">K</span><span class="token punctuation">(</span><span class="token function">Right</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          GT<span class="token punctuation">:</span> <span class="token function">K</span><span class="token punctuation">(</span><span class="token function">Left</span><span class="token punctuation">(</span>Failure<span class="token punctuation">.</span><span class="token function">TooHigh</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">)</span>
    <span class="token punctuation">)</span></code></pre>
      </div>
<p>Really easing into it, aren’t we? All we have to change is the topology of the parameter destructuring. We get the <em>config</em> attribute, and grab the <em>tolerance</em> off of it. Everything else works as before. Let’s see <code class="language-text">thirdTest</code>:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token comment">// thirdTest : Int -> ReaderT Env (Either Failure Success)</span>
<span class="token keyword">const</span> <span class="token function-variable function">thirdTest</span> <span class="token operator">=</span> n <span class="token operator">=></span>
  <span class="token function">ask</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> target <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span>
      <span class="token function">ifElse</span><span class="token punctuation">(</span>
        x <span class="token operator">=></span> target <span class="token operator">===</span> x<span class="token punctuation">,</span>
        <span class="token function">pipe</span><span class="token punctuation">(</span>Success<span class="token punctuation">.</span>Equal<span class="token punctuation">,</span> Right<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">pipe</span><span class="token punctuation">(</span>Success<span class="token punctuation">.</span>InTolerance<span class="token punctuation">,</span> Right<span class="token punctuation">)</span>
      <span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">ap</span><span class="token punctuation">(</span>M<span class="token punctuation">.</span><span class="token keyword">of</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">chain</span><span class="token punctuation">(</span><span class="token function">liftFn</span><span class="token punctuation">(</span>I<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>
      </div>
<p>That’s right, nothing changes. The easiest change of all! Why did I even include it? Well…it’s a pretty function, isn’t it? No shaming!</p>
<p>Let’s see <code class="language-text">firstTest</code>, since it’s the biggest change (though a familiarly-shaped one):</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token comment">// firstTest : Int -> ReaderT Env (Either Failure Int)</span>
<span class="token keyword">const</span> <span class="token function-variable function">firstTest</span> <span class="token operator">=</span> n <span class="token operator">=></span>
  <span class="token function">ask</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> config<span class="token punctuation">:</span> <span class="token punctuation">{</span> low<span class="token punctuation">,</span> high <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span>
      <span class="token function">ifElse</span><span class="token punctuation">(</span>
        n <span class="token operator">=></span> <span class="token operator">!</span><span class="token function">isNaN</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> low <span class="token operator">&lt;=</span> n <span class="token operator">&amp;&amp;</span> n <span class="token operator">&lt;=</span> high<span class="token punctuation">,</span>
        Right<span class="token punctuation">,</span>
        <span class="token function">pipe</span><span class="token punctuation">(</span>Failure<span class="token punctuation">.</span>InValid<span class="token punctuation">,</span> Left<span class="token punctuation">)</span>
      <span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">ap</span><span class="token punctuation">(</span>M<span class="token punctuation">.</span><span class="token keyword">of</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">chain</span><span class="token punctuation">(</span><span class="token function">liftFn</span><span class="token punctuation">(</span>I<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>
      </div>
<p>Not it looks like all the other functions. Uniformity for the win! We get the environment, then get the <em>config</em> attribute off it, then grab the <em>low</em> and <em>high</em> attributes. We’re not dealing with wrapping the values in a Pair, since they’ll just be immediately unwrapped for use. We inject the original function into the <code class="language-text">map</code>, then <code class="language-text">ap</code> in our guess.</p>
<h3>Things are making sense again</h3>
<p>Now let’s fix our main module, <em>./index.js</em>. First, we’ll get our imports updated:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">{</span> randomRIO <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./src/random'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> Env<span class="token punctuation">,</span> defaultCfg <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./src/config'</span><span class="token punctuation">)</span>

<span class="token comment">// main : Config -> IO ()</span>
<span class="token keyword">const</span> <span class="token function-variable function">main</span> <span class="token operator">=</span> cfg <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> low<span class="token punctuation">,</span> high <span class="token punctuation">}</span> <span class="token operator">=</span> cfg
  <span class="token keyword">const</span> target <span class="token operator">=</span> <span class="token function">randomRIO</span><span class="token punctuation">(</span>low<span class="token punctuation">,</span> high<span class="token punctuation">,</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> env <span class="token operator">=</span> <span class="token function">Env</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> cfg<span class="token punctuation">)</span>

  <span class="token keyword">return</span> <span class="token function">game</span><span class="token punctuation">(</span>env<span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>Let’s look at our updated <code class="language-text">main</code> function. <code class="language-text">main</code> has a <code class="language-text">Config</code> as it’s input, so we grab <em>low</em> and <em>high</em> off it, as a convenience to us. Readability and all. We feed those to <code class="language-text">randomRIO</code>, plus a <em>seed</em>. We want something that’s a large number that wouldn’t repeat. <code class="language-text">Date.now()</code> works perfectly for this. <code class="language-text">randomRIO</code> returns an <code class="language-text">IO Int</code>, so we unwrap it to get the <code class="language-text">Int</code>. We combine this and the <em>cfg</em> input into our <code class="language-text">env : Env</code>. Then we return <code class="language-text">game</code> with our <code class="language-text">env</code> applied to it.</p>
<p>This is nice, but looks too imperative, doesn’t it? Let’s try to get back into our style:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token comment">// main : Config -> IO ()</span>
<span class="token keyword">const</span> <span class="token function-variable function">main</span> <span class="token operator">=</span> cfg <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> low<span class="token punctuation">,</span> high <span class="token punctuation">}</span> <span class="token operator">=</span> cfg
  <span class="token keyword">return</span> <span class="token function">randomRIO</span><span class="token punctuation">(</span>low<span class="token punctuation">,</span> high<span class="token punctuation">,</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>target <span class="token operator">=></span> <span class="token function">Env</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> cfg<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">chain</span><span class="token punctuation">(</span>game<span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>That’s more like it! We run <code class="language-text">randomRIO</code>, then map across the returned IO, changing the random number into the <code class="language-text">Env</code> we want. Then we chain <code class="language-text">game</code>, starting the game.  Moving on, <code class="language-text">game</code> holds our old logic. Let’s see it:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token comment">// game : Env => IO ()</span>
<span class="token keyword">const</span> <span class="token function-variable function">game</span> <span class="token operator">=</span> env <span class="token operator">=></span>
  <span class="token function">getGuess</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Guess a number between 1 and 100`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token function">logic</span><span class="token punctuation">(</span>env<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">chain</span><span class="token punctuation">(</span>
      <span class="token function">either</span><span class="token punctuation">(</span>
        fail <span class="token operator">=></span> <span class="token function">printLine</span><span class="token punctuation">(</span><span class="token function">renderFailure</span><span class="token punctuation">(</span>fail<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">chain</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">game</span><span class="token punctuation">(</span>env<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        success <span class="token operator">=></span> <span class="token function">printLine</span><span class="token punctuation">(</span><span class="token function">renderSuccess</span><span class="token punctuation">(</span>success<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">chain</span><span class="token punctuation">(</span>exit<span class="token punctuation">)</span>
      <span class="token punctuation">)</span>
    <span class="token punctuation">)</span></code></pre>
      </div>
<p>Why did we separate the logic like this? We’d like this function to recurse, but we’d also like our <code class="language-text">env</code> to persist unchanged throughout the whole game. The easiest way I thought of to do it was to split the two. This is how we’re now going to call <code class="language-text">main</code>:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token function">main</span><span class="token punctuation">(</span>defaultCfg<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
      </div>
<p><code class="language-text">main</code> is given the <code class="language-text">defaultCfg</code>, getting us back to where we were at the end of the last post, but now with randomness! We just have to <code class="language-text">run</code> it.</p>
<h3>Conclusions</h3>
<p>We shuffled some things around, had to make more changes than we previously have had to, but we’re now inching toward an interesting game. But we can guess forever right now. We’re guaranteed to win through sheer determination. We should change that. Next time we’ll take a break from the javascript, and try our hand at rewriting this is a functional language: purescript! I’m excited for the opportunity to try this language out. Stay tuned!</p></div><ul class="sc-tilXH beKiKv" data-reactid="20"><li data-reactid="21"><a rel="prev" href="/what-the-adt-03" data-reactid="22"><!-- react-text: 23 -->← <!-- /react-text --><!-- react-text: 24 -->What the ADT 03 - More Than Just a Single-Use<!-- /react-text --></a></li><li data-reactid="25"><a rel="next" href="/what-the-adt-p01" data-reactid="26"><!-- react-text: 27 -->What the ADT Purescript 01 - Trying our Hand at a Real FP<!-- /react-text --><!-- react-text: 28 --> →<!-- /react-text --></a></li></ul><hr data-reactid="29"/><div class="sc-uJMKN kYMQsd" data-reactid="30"><img class="sc-bbmXgH iLnEsQ" src="/static/profile-pic.92072487.jpg" alt="Jason Polhemus" data-reactid="31"/><p data-reactid="32"><!-- react-text: 33 -->Written by <!-- /react-text --><strong data-reactid="34">Jason Polhemus</strong><!-- react-text: 35 --> who lives and works in Chicago building useful things and making beautiful sound.<!-- /react-text --><!-- react-text: 36 --> <!-- /react-text --><a class="sc-gGBfsJ lanzan" href="/what-the-adt-04/https://twitter.com/digitalsthtcs" data-reactid="37">tweets</a></p></div></article></section></div><footer class="sc-hqyNC fsnnjD" data-reactid="38"><section class="sc-jbKcbu jHFEb" data-reactid="39"><!-- react-text: 40 -->© 2018 ∙ Powered by ∙<!-- /react-text --><a href="/what-the-adt-04/https://www.gatsbyjs.org/" data-reactid="41">Gatsbyjs</a><!-- react-text: 42 -->∙<!-- /react-text --></section></footer></main></div><script id="webpack-manifest">/*<![CDATA[*/window.webpackManifest={"231608221292675":"app-b4347788a110d8c82a8d.js","99219681209289":"component---node-modules-gatsby-plugin-offline-app-shell-js-5c4c5a0f7af9dc69d6d7.js","107818501498521":"component---src-templates-blog-post-js-ba495ac5b447f872b256.js","162898551421021":"component---src-pages-404-js-4503918ea3a16cfcdb75.js","10991734084388":"component---src-pages-about-index-js-a2da4812f898e151e358.js","152176518627018":"component---src-pages-blog-index-js-9a8a58fba5e6a995bd44.js","35783957827783":"component---src-pages-index-js-f1068d7c506f1c6532ce.js","202660965941462":"component---src-pages-projects-index-js-2abb7ecb07f5cf8ea2fe.js","73124068719280":"component---src-pages-shows-index-js-51f77b7fbbcadff1cdfe.js","60335399758886":"path----557518bd178906f8d58a.js","210333531512890":"path---offline-plugin-app-shell-fallback-a0e39f21c11f6a62c5ab.js","121375587451199":"path---what-the-adt-p-03-ab9925b8b229d92f3719.js","242294865920579":"path---what-the-adt-p-02-5d7e91df31e55a506240.js","148761740396195":"path---what-the-adt-p-01-6882842d5c56446a5cb2.js","228620672864471":"path---what-the-adt-04-4e0cace2a7fc7cc787cf.js","174671463525015":"path---what-the-adt-03-e039bd3d35a280c8e24e.js","213318659538528":"path---what-the-adt-02-d29959f47e03c380148a.js","187249004995525":"path---what-the-adt-01-0f5250cbaa09d4385c47.js","16904180988059":"path---what-the-adt-00-8cd7b95619aaa94a811b.js","254022195166212":"path---404-a0e39f21c11f6a62c5ab.js","273950069227526":"path---about-82467519f06429106968.js","49683490770531":"path---blog-a65e0e82753178695867.js","142629428675168":"path---index-82467519f06429106968.js","97786326051841":"path---projects-8e7551befe869fcc07a4.js","75919750994259":"path---shows-db94cf40bab6cce2a1e1.js","178698757827068":"path---404-html-a0e39f21c11f6a62c5ab.js","114276838955818":"component---src-layouts-index-js-40d0a2dab60c18c63a5f.js"}/*]]>*/</script><script>/*<![CDATA[*/!function(e,t,r){function n(){for(;d[0]&&"loaded"==d[0][f];)c=d.shift(),c[o]=!i.parentNode.insertBefore(c,i)}for(var s,a,c,d=[],i=e.scripts[0],o="onreadystatechange",f="readyState";s=r.shift();)a=e.createElement(t),"async"in i?(a.async=!1,e.head.appendChild(a)):i[f]?(d.push(a),a[o]=n):e.write("<"+t+' src="'+s+'" defer></'+t+">"),a.src=s}(document,"script",["/commons-971d228e145f59af702e.js","/app-b4347788a110d8c82a8d.js","/path---what-the-adt-04-4e0cace2a7fc7cc787cf.js","/component---src-templates-blog-post-js-ba495ac5b447f872b256.js","/component---src-layouts-index-js-40d0a2dab60c18c63a5f.js"])/*]]>*/</script></body></html>